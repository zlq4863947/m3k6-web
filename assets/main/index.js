window.__require=function e(t,r,o){function n(c,s){if(!r[c]){if(!t[c]){var u=c.split("/");if(u=u[u.length-1],!t[u]){var a="function"==typeof __require&&__require;if(!s&&a)return a(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+c+"'")}c=u}var l=r[c]={exports:{}};t[c][0].call(l.exports,function(e){return n(t[c][1][e]||e)},l,l.exports,e,t,r,o)}return r[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<o.length;c++)n(o[c]);return n}({1:[function(e,t,r){!function(e,o){"object"==typeof r&&void 0!==t?t.exports=o():"function"==typeof define&&define.amd?define(o):e.dayjs=o()}(this,function(){"use strict";var e="millisecond",t="second",r="minute",o="hour",n="day",i="week",c="month",s="quarter",u="year",a=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,l=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p=function(e,t,r){var o=String(e);return!o||o.length>=t?e:""+Array(t+1-o.length).join(r)+e},d={s:p,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),o=Math.floor(r/60),n=r%60;return(t<=0?"+":"-")+p(o,2,"0")+":"+p(n,2,"0")},m:function(e,t){var r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,c),n=t-o<0,i=e.clone().add(r+(n?-1:1),c);return Number(-(r+(t-o)/(n?o-i:i-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(a){return{M:c,y:u,w:i,d:n,h:o,m:r,s:t,ms:e,Q:s}[a]||String(a||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},f="en",b={};b[f]=h;var y=function(e){return e instanceof g},v=function(e,t,r){var o;if(!e)return f;if("string"==typeof e)b[e]&&(o=e),t&&(b[e]=t,o=e);else{var n=e.name;b[n]=e,o=n}return r||(f=o),o},m=function(e,t,r){if(y(e))return e.clone();var o=t?"string"==typeof t?{format:t,pl:r}:t:{};return o.date=e,new g(o)},_=d;_.l=v,_.i=y,_.w=function(e,t){return m(e,{locale:t.$L,utc:t.$u,$offset:t.$offset})};var g=function(){function p(e){this.$L=this.$L||v(e.locale,null,!0),this.parse(e)}var d=p.prototype;return d.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(_.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var o=t.match(a);if(o)return r?new Date(Date.UTC(o[1],o[2]-1,o[3]||1,o[4]||0,o[5]||0,o[6]||0,o[7]||0)):new Date(o[1],o[2]-1,o[3]||1,o[4]||0,o[5]||0,o[6]||0,o[7]||0)}return new Date(t)}(e),this.init()},d.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},d.$utils=function(){return _},d.isValid=function(){return!("Invalid Date"===this.$d.toString())},d.isSame=function(e,t){var r=m(e);return this.startOf(t)<=r&&r<=this.endOf(t)},d.isAfter=function(e,t){return m(e)<this.startOf(t)},d.isBefore=function(e,t){return this.endOf(t)<m(e)},d.$g=function(e,t,r){return _.u(e)?this[t]:this.set(r,e)},d.year=function(e){return this.$g(e,"$y",u)},d.month=function(e){return this.$g(e,"$M",c)},d.day=function(e){return this.$g(e,"$W",n)},d.date=function(e){return this.$g(e,"$D","date")},d.hour=function(e){return this.$g(e,"$H",o)},d.minute=function(e){return this.$g(e,"$m",r)},d.second=function(e){return this.$g(e,"$s",t)},d.millisecond=function(t){return this.$g(t,"$ms",e)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(e,s){var a=this,l=!!_.u(s)||s,p=_.p(e),d=function(e,t){var r=_.w(a.$u?Date.UTC(a.$y,t,e):new Date(a.$y,t,e),a);return l?r:r.endOf(n)},h=function(e,t){return _.w(a.toDate()[e].apply(a.toDate(),(l?[0,0,0,0]:[23,59,59,999]).slice(t)),a)},f=this.$W,b=this.$M,y=this.$D,v="set"+(this.$u?"UTC":"");switch(p){case u:return l?d(1,0):d(31,11);case c:return l?d(1,b):d(0,b+1);case i:var m=this.$locale().weekStart||0,g=(f<m?f+7:f)-m;return d(l?y-g:y+(6-g),b);case n:case"date":return h(v+"Hours",0);case o:return h(v+"Minutes",1);case r:return h(v+"Seconds",2);case t:return h(v+"Milliseconds",3);default:return this.clone()}},d.endOf=function(e){return this.startOf(e,!1)},d.$set=function(i,s){var a,l=_.p(i),p="set"+(this.$u?"UTC":""),d=(a={},a[n]=p+"Date",a.date=p+"Date",a[c]=p+"Month",a[u]=p+"FullYear",a[o]=p+"Hours",a[r]=p+"Minutes",a[t]=p+"Seconds",a[e]=p+"Milliseconds",a)[l],h=l===n?this.$D+(s-this.$W):s;if(l===c||l===u){var f=this.clone().set("date",1);f.$d[d](h),f.init(),this.$d=f.set("date",Math.min(this.$D,f.daysInMonth())).toDate()}else d&&this.$d[d](h);return this.init(),this},d.set=function(e,t){return this.clone().$set(e,t)},d.get=function(e){return this[_.p(e)]()},d.add=function(e,s){var a,l=this;e=Number(e);var p=_.p(s),d=function(t){var r=m(l);return _.w(r.date(r.date()+Math.round(t*e)),l)};if(p===c)return this.set(c,this.$M+e);if(p===u)return this.set(u,this.$y+e);if(p===n)return d(1);if(p===i)return d(7);var h=(a={},a[r]=6e4,a[o]=36e5,a[t]=1e3,a)[p]||1,f=this.$d.getTime()+e*h;return _.w(f,this)},d.subtract=function(e,t){return this.add(-1*e,t)},d.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var r=e||"YYYY-MM-DDTHH:mm:ssZ",o=_.z(this),n=this.$locale(),i=this.$H,c=this.$m,s=this.$M,u=n.weekdays,a=n.months,p=function(e,o,n,i){return e&&(e[o]||e(t,r))||n[o].substr(0,i)},d=function(e){return _.s(i%12||12,e,"0")},h=n.meridiem||function(e,t,r){var o=e<12?"AM":"PM";return r?o.toLowerCase():o},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:_.s(s+1,2,"0"),MMM:p(n.monthsShort,s,a,3),MMMM:a[s]||a(this,r),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:p(n.weekdaysMin,this.$W,u,2),ddd:p(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:_.s(i,2,"0"),h:d(1),hh:d(2),a:h(i,c,!0),A:h(i,c,!1),m:String(c),mm:_.s(c,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:o};return r.replace(l,function(e,t){return t||f[e]||o.replace(":","")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(e,a,l){var p,d=_.p(a),h=m(e),f=6e4*(h.utcOffset()-this.utcOffset()),b=this-h,y=_.m(this,h);return y=(p={},p[u]=y/12,p[c]=y,p[s]=y/3,p[i]=(b-f)/6048e5,p[n]=(b-f)/864e5,p[o]=b/36e5,p[r]=b/6e4,p[t]=b/1e3,p)[d]||b,l?y:_.a(y)},d.daysInMonth=function(){return this.endOf(c).$D},d.$locale=function(){return b[this.$L]},d.locale=function(e,t){if(!e)return this.$L;var r=this.clone();return r.$L=v(e,t,!0),r},d.clone=function(){return _.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},p}();return m.prototype=g.prototype,m.extend=function(e,t){return e(t,g,m),m},m.locale=v,m.isDayjs=y,m.unix=function(e){return m(1e3*e)},m.en=b[f],m.Ls=b,m})},{}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./internal/Observable");r.Observable=o.Observable;var n=e("./internal/observable/ConnectableObservable");r.ConnectableObservable=n.ConnectableObservable;var i=e("./internal/operators/groupBy");r.GroupedObservable=i.GroupedObservable;var c=e("./internal/symbol/observable");r.observable=c.observable;var s=e("./internal/Subject");r.Subject=s.Subject;var u=e("./internal/BehaviorSubject");r.BehaviorSubject=u.BehaviorSubject;var a=e("./internal/ReplaySubject");r.ReplaySubject=a.ReplaySubject;var l=e("./internal/AsyncSubject");r.AsyncSubject=l.AsyncSubject;var p=e("./internal/scheduler/asap");r.asapScheduler=p.asap;var d=e("./internal/scheduler/async");r.asyncScheduler=d.async;var h=e("./internal/scheduler/queue");r.queueScheduler=h.queue;var f=e("./internal/scheduler/animationFrame");r.animationFrameScheduler=f.animationFrame;var b=e("./internal/scheduler/VirtualTimeScheduler");r.VirtualTimeScheduler=b.VirtualTimeScheduler,r.VirtualAction=b.VirtualAction;var y=e("./internal/Scheduler");r.Scheduler=y.Scheduler;var v=e("./internal/Subscription");r.Subscription=v.Subscription;var m=e("./internal/Subscriber");r.Subscriber=m.Subscriber;var _=e("./internal/Notification");r.Notification=_.Notification,r.NotificationKind=_.NotificationKind;var g=e("./internal/util/pipe");r.pipe=g.pipe;var O=e("./internal/util/noop");r.noop=O.noop;var S=e("./internal/util/identity");r.identity=S.identity;var w=e("./internal/util/isObservable");r.isObservable=w.isObservable;var N=e("./internal/util/ArgumentOutOfRangeError");r.ArgumentOutOfRangeError=N.ArgumentOutOfRangeError;var D=e("./internal/util/EmptyError");r.EmptyError=D.EmptyError;var j=e("./internal/util/ObjectUnsubscribedError");r.ObjectUnsubscribedError=j.ObjectUnsubscribedError;var C=e("./internal/util/UnsubscriptionError");r.UnsubscriptionError=C.UnsubscriptionError;var P=e("./internal/util/TimeoutError");r.TimeoutError=P.TimeoutError;var E=e("./internal/observable/bindCallback");r.bindCallback=E.bindCallback;var A=e("./internal/observable/bindNodeCallback");r.bindNodeCallback=A.bindNodeCallback;var R=e("./internal/observable/combineLatest");r.combineLatest=R.combineLatest;var x=e("./internal/observable/concat");r.concat=x.concat;var T=e("./internal/observable/defer");r.defer=T.defer;var M=e("./internal/observable/empty");r.empty=M.empty;var L=e("./internal/observable/forkJoin");r.forkJoin=L.forkJoin;var k=e("./internal/observable/from");r.from=k.from;var B=e("./internal/observable/fromEvent");r.fromEvent=B.fromEvent;var I=e("./internal/observable/fromEventPattern");r.fromEventPattern=I.fromEventPattern;var F=e("./internal/observable/generate");r.generate=F.generate;var $=e("./internal/observable/iif");r.iif=$.iif;var U=e("./internal/observable/interval");r.interval=U.interval;var H=e("./internal/observable/merge");r.merge=H.merge;var V=e("./internal/observable/never");r.never=V.never;var Y=e("./internal/observable/of");r.of=Y.of;var W=e("./internal/observable/onErrorResumeNext");r.onErrorResumeNext=W.onErrorResumeNext;var q=e("./internal/observable/pairs");r.pairs=q.pairs;var G=e("./internal/observable/partition");r.partition=G.partition;var J=e("./internal/observable/race");r.race=J.race;var Q=e("./internal/observable/range");r.range=Q.range;var z=e("./internal/observable/throwError");r.throwError=z.throwError;var Z=e("./internal/observable/timer");r.timer=Z.timer;var K=e("./internal/observable/using");r.using=K.using;var X=e("./internal/observable/zip");r.zip=X.zip;var ee=e("./internal/scheduled/scheduled");r.scheduled=ee.scheduled;var te=e("./internal/observable/empty");r.EMPTY=te.EMPTY;var re=e("./internal/observable/never");r.NEVER=re.NEVER;var oe=e("./internal/config");r.config=oe.config},{"./internal/AsyncSubject":3,"./internal/BehaviorSubject":4,"./internal/Notification":6,"./internal/Observable":7,"./internal/ReplaySubject":10,"./internal/Scheduler":11,"./internal/Subject":12,"./internal/Subscriber":14,"./internal/Subscription":15,"./internal/config":16,"./internal/observable/ConnectableObservable":17,"./internal/observable/bindCallback":18,"./internal/observable/bindNodeCallback":19,"./internal/observable/combineLatest":20,"./internal/observable/concat":21,"./internal/observable/defer":22,"./internal/observable/empty":23,"./internal/observable/forkJoin":24,"./internal/observable/from":25,"./internal/observable/fromEvent":27,"./internal/observable/fromEventPattern":28,"./internal/observable/generate":29,"./internal/observable/iif":30,"./internal/observable/interval":31,"./internal/observable/merge":32,"./internal/observable/never":33,"./internal/observable/of":34,"./internal/observable/onErrorResumeNext":35,"./internal/observable/pairs":36,"./internal/observable/partition":37,"./internal/observable/race":38,"./internal/observable/range":39,"./internal/observable/throwError":40,"./internal/observable/timer":41,"./internal/observable/using":42,"./internal/observable/zip":43,"./internal/operators/groupBy":46,"./internal/scheduled/scheduled":56,"./internal/scheduler/VirtualTimeScheduler":66,"./internal/scheduler/animationFrame":67,"./internal/scheduler/asap":68,"./internal/scheduler/async":69,"./internal/scheduler/queue":70,"./internal/symbol/observable":72,"./internal/util/ArgumentOutOfRangeError":74,"./internal/util/EmptyError":75,"./internal/util/ObjectUnsubscribedError":77,"./internal/util/TimeoutError":78,"./internal/util/UnsubscriptionError":79,"./internal/util/identity":82,"./internal/util/isObservable":90,"./internal/util/noop":93,"./internal/util/pipe":95}],3:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=e("./Subject"),i=e("./Subscription"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return o(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),i.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),i.Subscription.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(n.Subject);r.AsyncSubject=c},{"./Subject":12,"./Subscription":15}],4:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=e("./Subject"),i=e("./util/ObjectUnsubscribedError"),c=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return o(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(n.Subject);r.BehaviorSubject=c},{"./Subject":12,"./util/ObjectUnsubscribedError":77}],5:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){function t(t,r,o){var n=e.call(this)||this;return n.parent=t,n.outerValue=r,n.outerIndex=o,n.index=0,n}return o(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(e("./Subscriber").Subscriber);r.InnerSubscriber=n},{"./Subscriber":14}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./observable/empty"),n=e("./observable/of"),i=e("./observable/throwError");(function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"})(r.NotificationKind||(r.NotificationKind={}));var c=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){switch(this.kind){case"N":return n.of(this.value);case"E":return i.throwError(this.error);case"C":return o.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();r.Notification=c},{"./observable/empty":23,"./observable/of":34,"./observable/throwError":40}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./util/canReportError"),n=e("./util/toSubscriber"),i=e("./symbol/observable"),c=e("./util/pipe"),s=e("./config"),u=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var o=this.operator,i=n.toSubscriber(e,t,r);if(o?i.add(o.call(i,this.source)):i.add(this.source||s.config.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.config.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){s.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),o.canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=a(t))(function(t,o){var n;n=r.subscribe(function(t){try{e(t)}catch(e){o(e),n&&n.unsubscribe()}},o,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[i.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:c.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=a(e))(function(e,r){var o;t.subscribe(function(e){return o=e},function(e){return r(e)},function(){return e(o)})})},e.create=function(t){return new e(t)},e}();function a(e){if(e||(e=s.config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}r.Observable=u},{"./config":16,"./symbol/observable":72,"./util/canReportError":80,"./util/pipe":95,"./util/toSubscriber":102}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./config"),n=e("./util/hostReportError");r.empty={closed:!0,next:function(e){},error:function(e){if(o.config.useDeprecatedSynchronousErrorHandling)throw e;n.hostReportError(e)},complete:function(){}}},{"./config":16,"./util/hostReportError":81}],9:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.notifyNext=function(e,t,r,o,n){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(e("./Subscriber").Subscriber);r.OuterSubscriber=n},{"./Subscriber":14}],10:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=e("./Subject"),i=e("./scheduler/queue"),c=e("./Subscription"),s=e("./operators/observeOn"),u=e("./util/ObjectUnsubscribedError"),a=e("./SubjectSubscription"),l=function(e){function t(t,r,o){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var n=e.call(this)||this;return n.scheduler=o,n._events=[],n._infiniteTimeWindow=!1,n._bufferSize=t<1?1:t,n._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(n._infiniteTimeWindow=!0,n.next=n.nextInfiniteTimeWindow):n.next=n.nextTimeWindow,n}return o(t,e),t.prototype.nextInfiniteTimeWindow=function(t){var r=this._events;r.push(t),r.length>this._bufferSize&&r.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new p(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,r=this._infiniteTimeWindow,o=r?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,i=o.length;if(this.closed)throw new u.ObjectUnsubscribedError;if(this.isStopped||this.hasError?t=c.Subscription.EMPTY:(this.observers.push(e),t=new a.SubjectSubscription(this,e)),n&&e.add(e=new s.ObserveOnSubscriber(e,n)),r)for(var l=0;l<i&&!e.closed;l++)e.next(o[l]);else for(l=0;l<i&&!e.closed;l++)e.next(o[l].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||i.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,o=this._events,n=o.length,i=0;i<n&&!(e-o[i].time<r);)i++;return n>t&&(i=Math.max(i,n-t)),i>0&&o.splice(0,i),o},t}(n.Subject);r.ReplaySubject=l;var p=function(){return function(e,t){this.time=e,this.value=t}}()},{"./Subject":12,"./SubjectSubscription":13,"./Subscription":15,"./operators/observeOn":50,"./scheduler/queue":70,"./util/ObjectUnsubscribedError":77}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e.now=function(){return Date.now()},e}();r.Scheduler=o},{}],12:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=e("./Observable"),i=e("./Subscriber"),c=e("./Subscription"),s=e("./util/ObjectUnsubscribedError"),u=e("./SubjectSubscription"),a=e("../internal/symbol/rxSubscriber"),l=function(e){function t(t){var r=e.call(this,t)||this;return r.destination=t,r}return o(t,e),t}(i.Subscriber);r.SubjectSubscriber=l;var p=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return o(t,e),t.prototype[a.rxSubscriber]=function(){return new l(this)},t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,r=t.length,o=t.slice(),n=0;n<r;n++)o[n].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,o=t.slice(),n=0;n<r;n++)o[n].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),o=0;o<t;o++)r[o].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),c.Subscription.EMPTY):this.isStopped?(e.complete(),c.Subscription.EMPTY):(this.observers.push(e),new u.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new n.Observable;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(n.Observable);r.Subject=p;var d=function(e){function t(t,r){var o=e.call(this)||this;return o.destination=t,o.source=r,o}return o(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):c.Subscription.EMPTY},t}(p);r.AnonymousSubject=d},{"../internal/symbol/rxSubscriber":73,"./Observable":7,"./SubjectSubscription":13,"./Subscriber":14,"./Subscription":15,"./util/ObjectUnsubscribedError":77}],13:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){function t(t,r){var o=e.call(this)||this;return o.subject=t,o.subscriber=r,o.closed=!1,o}return o(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},t}(e("./Subscription").Subscription);r.SubjectSubscription=n},{"./Subscription":15}],14:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=e("./util/isFunction"),i=e("./Observer"),c=e("./Subscription"),s=e("../internal/symbol/rxSubscriber"),u=e("./config"),a=e("./util/hostReportError"),l=function(e){function t(r,o,n){var c=e.call(this)||this;switch(c.syncErrorValue=null,c.syncErrorThrown=!1,c.syncErrorThrowable=!1,c.isStopped=!1,arguments.length){case 0:c.destination=i.empty;break;case 1:if(!r){c.destination=i.empty;break}if("object"==typeof r){r instanceof t?(c.syncErrorThrowable=r.syncErrorThrowable,c.destination=r,r.add(c)):(c.syncErrorThrowable=!0,c.destination=new p(c,r));break}default:c.syncErrorThrowable=!0,c.destination=new p(c,r,o,n)}return c}return o(t,e),t.prototype[s.rxSubscriber]=function(){return this},t.create=function(e,r,o){var n=new t(e,r,o);return n.syncErrorThrowable=!1,n},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(c.Subscription);r.Subscriber=l;var p=function(e){function t(t,r,o,c){var s,u=e.call(this)||this;u._parentSubscriber=t;var a=u;return n.isFunction(r)?s=r:r&&(s=r.next,o=r.error,c=r.complete,r!==i.empty&&(a=Object.create(r),n.isFunction(a.unsubscribe)&&u.add(a.unsubscribe.bind(a)),a.unsubscribe=u.unsubscribe.bind(u))),u._context=a,u._next=s,u._error=o,u._complete=c,u}return o(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;u.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=u.config.useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):a.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;a.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};u.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),u.config.useDeprecatedSynchronousErrorHandling)throw e;a.hostReportError(e)}},t.prototype.__tryOrSetError=function(e,t,r){if(!u.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(t){return u.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(a.hostReportError(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l);r.SafeSubscriber=p},{"../internal/symbol/rxSubscriber":73,"./Observer":8,"./Subscription":15,"./config":16,"./util/hostReportError":81,"./util/isFunction":85}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./util/isArray"),n=e("./util/isObject"),i=e("./util/isFunction"),c=e("./util/UnsubscriptionError"),s=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var r=this._parentOrParents,s=this._unsubscribe,a=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(var l=0;l<r.length;++l){r[l].remove(this)}if(i.isFunction(s))try{s.call(this)}catch(e){t=e instanceof c.UnsubscriptionError?u(e.errors):[e]}if(o.isArray(a)){l=-1;for(var p=a.length;++l<p;){var d=a[l];if(n.isObject(d))try{d.unsubscribe()}catch(e){t=t||[],e instanceof c.UnsubscriptionError?t=t.concat(u(e.errors)):t.push(e)}}}if(t)throw new c.UnsubscriptionError(t)}},e.prototype.add=function(t){var r=t;if(!t)return e.EMPTY;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var o=r;(r=new e)._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var n=r._parentOrParents;if(null===n)r._parentOrParents=this;else if(n instanceof e){if(n===this)return r;r._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return r;n.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[r]:i.push(r),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function u(e){return e.reduce(function(e,t){return e.concat(t instanceof c.UnsubscriptionError?t.errors:t)},[])}r.Subscription=s},{"./util/UnsubscriptionError":79,"./util/isArray":83,"./util/isFunction":85,"./util/isObject":89}],16:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=!1;r.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else o&&console.log("RxJS: Back to a better error behavior. Thank you. <3");o=e},get useDeprecatedSynchronousErrorHandling(){return o}}},{}],17:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Subject"),i=e("../Observable"),c=e("../Subscriber"),s=e("../Subscription"),u=e("../operators/refCount"),a=function(e){function t(t,r){var o=e.call(this)||this;return o.source=t,o.subjectFactory=r,o._refCount=0,o._isComplete=!1,o}return o(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new s.Subscription).add(this.source.subscribe(new l(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.Subscription.EMPTY)),e},t.prototype.refCount=function(){return u.refCount()(this)},t}(i.Observable);r.ConnectableObservable=a,r.connectableObservableDescriptor=function(){var e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}();var l=function(e){function t(t,r){var o=e.call(this,t)||this;return o.connectable=r,o}return o(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(n.SubjectSubscriber),p=(function(){function e(e){this.connectable=e}e.prototype.call=function(e,t){var r=this.connectable;r._refCount++;var o=new p(e,r),n=t.subscribe(o);return o.closed||(o.connection=r.connect()),n}}(),function(e){function t(t,r){var o=e.call(this,t)||this;return o.connectable=r,o}return o(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var r=this.connection,o=e._connection;this.connection=null,!o||r&&o!==r||o.unsubscribe()}}else this.connection=null},t}(c.Subscriber))},{"../Observable":7,"../Subject":12,"../Subscriber":14,"../Subscription":15,"../operators/refCount":51}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),n=e("../AsyncSubject"),i=e("../operators/map"),c=e("../util/canReportError"),s=e("../util/isArray"),u=e("../util/isScheduler");function a(e){var t=this,r=e.args,o=e.subscriber,i=e.params,c=i.callbackFunc,s=i.context,u=i.scheduler,a=i.subject;if(!a){a=i.subject=new n.AsyncSubject;try{c.apply(s,r.concat([function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=e.length<=1?e[0]:e;t.add(u.schedule(l,0,{value:o,subject:a}))}]))}catch(e){a.error(e)}}this.add(a.subscribe(o))}function l(e){var t=e.value,r=e.subject;r.next(t),r.complete()}r.bindCallback=function e(t,r,l){if(r){if(!u.isScheduler(r))return function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];return e(t,l).apply(void 0,o).pipe(i.map(function(e){return s.isArray(e)?r.apply(void 0,e):r(e)}))};l=r}return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i,s=this,u={context:s,subject:i,callbackFunc:t,scheduler:l};return new o.Observable(function(r){if(l){var o={args:e,subscriber:r,params:u};return l.schedule(a,0,o)}if(!i){i=new n.AsyncSubject;try{t.apply(s,e.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.next(e.length<=1?e[0]:e),i.complete()}]))}catch(e){c.canReportError(i)?i.error(e):console.warn(e)}}return i.subscribe(r)})}}},{"../AsyncSubject":3,"../Observable":7,"../operators/map":47,"../util/canReportError":80,"../util/isArray":83,"../util/isScheduler":92}],19:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),n=e("../AsyncSubject"),i=e("../operators/map"),c=e("../util/canReportError"),s=e("../util/isScheduler"),u=e("../util/isArray");function a(e){var t=this,r=e.params,o=e.subscriber,i=e.context,c=r.callbackFunc,s=r.args,u=r.scheduler,a=r.subject;if(!a){a=r.subject=new n.AsyncSubject;try{c.apply(i,s.concat([function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=e.shift();if(o)t.add(u.schedule(p,0,{err:o,subject:a}));else{var n=e.length<=1?e[0]:e;t.add(u.schedule(l,0,{value:n,subject:a}))}}]))}catch(e){this.add(u.schedule(p,0,{err:e,subject:a}))}}this.add(a.subscribe(o))}function l(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function p(e){var t=e.err;e.subject.error(t)}r.bindNodeCallback=function e(t,r,l){if(r){if(!s.isScheduler(r))return function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];return e(t,l).apply(void 0,o).pipe(i.map(function(e){return u.isArray(e)?r.apply(void 0,e):r(e)}))};l=r}return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i={subject:void 0,args:e,callbackFunc:t,scheduler:l,context:this};return new o.Observable(function(r){var o=i.context,s=i.subject;if(l)return l.schedule(a,0,{params:i,subscriber:r,context:o});if(!s){s=i.subject=new n.AsyncSubject;try{t.apply(o,e.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.shift();r?s.error(r):(s.next(e.length<=1?e[0]:e),s.complete())}]))}catch(e){c.canReportError(s)?s.error(e):console.warn(e)}}return s.subscribe(r)})}}},{"../AsyncSubject":3,"../Observable":7,"../operators/map":47,"../util/canReportError":80,"../util/isArray":83,"../util/isScheduler":92}],20:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=e("../util/isScheduler"),i=e("../util/isArray"),c=e("../OuterSubscriber"),s=e("../util/subscribeToResult"),u=e("./fromArray"),a={};r.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=null,o=null;return n.isScheduler(e[e.length-1])&&(o=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&i.isArray(e[0])&&(e=e[0]),u.fromArray(e,o).lift(new l(r))};var l=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.resultSelector))},e}();r.CombineLatestOperator=l;var p=function(e){function t(t,r){var o=e.call(this,t)||this;return o.resultSelector=r,o.active=0,o.values=[],o.observables=[],o}return o(t,e),t.prototype._next=function(e){this.values.push(a),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var r=0;r<t;r++){var o=e[r];this.add(s.subscribeToResult(this,o,o,r))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,o,n){var i=this.values,c=i[r],s=this.toRespond?c===a?--this.toRespond:this.toRespond:0;i[r]=t,0===s&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(c.OuterSubscriber);r.CombineLatestSubscriber=p},{"../OuterSubscriber":9,"../util/isArray":83,"../util/isScheduler":92,"../util/subscribeToResult":101,"./fromArray":26}],21:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./of"),n=e("../operators/concatAll");r.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.concatAll()(o.of.apply(void 0,e))}},{"../operators/concatAll":44,"./of":34}],22:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),n=e("./from"),i=e("./empty");r.defer=function(e){return new o.Observable(function(t){var r;try{r=e()}catch(e){return void t.error(e)}return(r?n.from(r):i.empty()).subscribe(t)})}},{"../Observable":7,"./empty":23,"./from":25}],23:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable");function n(e){return new o.Observable(function(t){return e.schedule(function(){return t.complete()})})}r.EMPTY=new o.Observable(function(e){return e.complete()}),r.empty=function(e){return e?n(e):r.EMPTY}},{"../Observable":7}],24:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),n=e("../util/isArray"),i=e("../operators/map"),c=e("../util/isObject"),s=e("./from");function u(e,t){return new o.Observable(function(r){var o=e.length;if(0!==o)for(var n=new Array(o),i=0,c=0,u=function(u){var a=s.from(e[u]),l=!1;r.add(a.subscribe({next:function(e){l||(l=!0,c++),n[u]=e},error:function(e){return r.error(e)},complete:function(){++i!==o&&l||(c===o&&r.next(t?t.reduce(function(e,t,r){return e[t]=n[r],e},{}):n),r.complete())}}))},a=0;a<o;a++)u(a);else r.complete()})}r.forkJoin=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var r=e[0];if(n.isArray(r))return u(r,null);if(c.isObject(r)&&Object.getPrototypeOf(r)===Object.prototype){var o=Object.keys(r);return u(o.map(function(e){return r[e]}),o)}}if("function"==typeof e[e.length-1]){var s=e.pop();return u(e=1===e.length&&n.isArray(e[0])?e[0]:e,null).pipe(i.map(function(e){return s.apply(void 0,e)}))}return u(e,null)}},{"../Observable":7,"../operators/map":47,"../util/isArray":83,"../util/isObject":89,"./from":25}],25:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),n=e("../util/subscribeTo"),i=e("../scheduled/scheduled");r.from=function(e,t){return t?i.scheduled(e,t):e instanceof o.Observable?e:new o.Observable(n.subscribeTo(e))}},{"../Observable":7,"../scheduled/scheduled":56,"../util/subscribeTo":96}],26:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),n=e("../util/subscribeToArray"),i=e("../scheduled/scheduleArray");r.fromArray=function(e,t){return t?i.scheduleArray(e,t):new o.Observable(n.subscribeToArray(e))}},{"../Observable":7,"../scheduled/scheduleArray":52,"../util/subscribeToArray":97}],27:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),n=e("../util/isArray"),i=e("../util/isFunction"),c=e("../operators/map");Object.prototype.toString;function s(e,t,r,o,n){var i;if(l(e)){var c=e;e.addEventListener(t,r,n),i=function(){return c.removeEventListener(t,r,n)}}else if(a(e)){var p=e;e.on(t,r),i=function(){return p.off(t,r)}}else if(u(e)){var d=e;e.addListener(t,r),i=function(){return d.removeListener(t,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var h=0,f=e.length;h<f;h++)s(e[h],t,r,o,n)}o.add(i)}function u(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function a(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}function l(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}r.fromEvent=function e(t,r,u,a){return i.isFunction(u)&&(a=u,u=void 0),a?e(t,r,u).pipe(c.map(function(e){return n.isArray(e)?a.apply(void 0,e):a(e)})):new o.Observable(function(e){s(t,r,function(t){arguments.length>1?e.next(Array.prototype.slice.call(arguments)):e.next(t)},e,u)})}},{"../Observable":7,"../operators/map":47,"../util/isArray":83,"../util/isFunction":85}],28:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),n=e("../util/isArray"),i=e("../util/isFunction"),c=e("../operators/map");r.fromEventPattern=function e(t,r,s){return s?e(t,r).pipe(c.map(function(e){return n.isArray(e)?s.apply(void 0,e):s(e)})):new o.Observable(function(e){var o,n=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1===t.length?t[0]:t)};try{o=t(n)}catch(t){return void e.error(t)}if(i.isFunction(r))return function(){return r(n,o)}})}},{"../Observable":7,"../operators/map":47,"../util/isArray":83,"../util/isFunction":85}],29:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),n=e("../util/identity"),i=e("../util/isScheduler");function c(e){var t=e.subscriber,r=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(r){var o=void 0;try{o=r(e.state)}catch(e){return void t.error(e)}if(!o)return void t.complete();if(t.closed)return}var n;try{n=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(n),!t.closed))return this.schedule(e)}}r.generate=function(e,t,r,s,u){var a,l;if(1==arguments.length){var p=e;l=p.initialState,t=p.condition,r=p.iterate,a=p.resultSelector||n.identity,u=p.scheduler}else void 0===s||i.isScheduler(s)?(l=e,a=n.identity,u=s):(l=e,a=s);return new o.Observable(function(e){var o=l;if(u)return u.schedule(c,0,{subscriber:e,iterate:r,condition:t,resultSelector:a,state:o});for(;;){if(t){var n=void 0;try{n=t(o)}catch(t){return void e.error(t)}if(!n){e.complete();break}}var i=void 0;try{i=a(o)}catch(t){return void e.error(t)}if(e.next(i),e.closed)break;try{o=r(o)}catch(t){return void e.error(t)}}})}},{"../Observable":7,"../util/identity":82,"../util/isScheduler":92}],30:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./defer"),n=e("./empty");r.iif=function(e,t,r){return void 0===t&&(t=n.EMPTY),void 0===r&&(r=n.EMPTY),o.defer(function(){return e()?t:r})}},{"./defer":22,"./empty":23}],31:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),n=e("../scheduler/async"),i=e("../util/isNumeric");function c(e){var t=e.subscriber,r=e.counter,o=e.period;t.next(r),this.schedule({subscriber:t,counter:r+1,period:o},o)}r.interval=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=n.async),(!i.isNumeric(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=n.async),new o.Observable(function(r){return r.add(t.schedule(c,e,{subscriber:r,counter:0,period:e})),r})}},{"../Observable":7,"../scheduler/async":69,"../util/isNumeric":88}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),n=e("../util/isScheduler"),i=e("../operators/mergeAll"),c=e("./fromArray");r.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Number.POSITIVE_INFINITY,s=null,u=e[e.length-1];return n.isScheduler(u)?(s=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof u&&(r=e.pop()),null===s&&1===e.length&&e[0]instanceof o.Observable?e[0]:i.mergeAll(r)(c.fromArray(e,s))}},{"../Observable":7,"../operators/mergeAll":48,"../util/isScheduler":92,"./fromArray":26}],33:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),n=e("../util/noop");r.NEVER=new o.Observable(n.noop),r.never=function(){return r.NEVER}},{"../Observable":7,"../util/noop":93}],34:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../util/isScheduler"),n=e("./fromArray"),i=e("../scheduled/scheduleArray");r.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return o.isScheduler(r)?(e.pop(),i.scheduleArray(e,r)):n.fromArray(e)}},{"../scheduled/scheduleArray":52,"../util/isScheduler":92,"./fromArray":26}],35:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),n=e("./from"),i=e("../util/isArray"),c=e("./empty");r.onErrorResumeNext=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(0===t.length)return c.EMPTY;var s=t[0],u=t.slice(1);return 1===t.length&&i.isArray(s)?e.apply(void 0,s):new o.Observable(function(t){var r=function(){return t.add(e.apply(void 0,u).subscribe(t))};return n.from(s).subscribe({next:function(e){t.next(e)},error:r,complete:r})})}},{"../Observable":7,"../util/isArray":83,"./empty":23,"./from":25}],36:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),n=e("../Subscription");function i(e){var t=e.keys,r=e.index,o=e.subscriber,n=e.subscription,i=e.obj;if(!o.closed)if(r<t.length){var c=t[r];o.next([c,i[c]]),n.add(this.schedule({keys:t,index:r+1,subscriber:o,subscription:n,obj:i}))}else o.complete()}r.pairs=function(e,t){return t?new o.Observable(function(r){var o=Object.keys(e),c=new n.Subscription;return c.add(t.schedule(i,0,{keys:o,index:0,subscriber:r,subscription:c,obj:e})),c}):new o.Observable(function(t){for(var r=Object.keys(e),o=0;o<r.length&&!t.closed;o++){var n=r[o];e.hasOwnProperty(n)&&t.next([n,e[n]])}t.complete()})},r.dispatch=i},{"../Observable":7,"../Subscription":15}],37:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../util/not"),n=e("../util/subscribeTo"),i=e("../operators/filter"),c=e("../Observable");r.partition=function(e,t,r){return[i.filter(t,r)(new c.Observable(n.subscribeTo(e))),i.filter(o.not(t,r))(new c.Observable(n.subscribeTo(e)))]}},{"../Observable":7,"../operators/filter":45,"../util/not":94,"../util/subscribeTo":96}],38:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=e("../util/isArray"),i=e("./fromArray"),c=e("../OuterSubscriber"),s=e("../util/subscribeToResult");r.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!n.isArray(e[0]))return e[0];e=e[0]}return i.fromArray(e,void 0).lift(new u)};var u=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}();r.RaceOperator=u;var a=function(e){function t(t){var r=e.call(this,t)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return o(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var r=0;r<t&&!this.hasFirst;r++){var o=e[r],n=s.subscribeToResult(this,o,o,r);this.subscriptions&&this.subscriptions.push(n),this.add(n)}this.observables=null}},t.prototype.notifyNext=function(e,t,r,o,n){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==r){var c=this.subscriptions[i];c.unsubscribe(),this.remove(c)}this.subscriptions=null}this.destination.next(t)},t}(c.OuterSubscriber);r.RaceSubscriber=a},{"../OuterSubscriber":9,"../util/isArray":83,"../util/subscribeToResult":101,"./fromArray":26}],39:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable");function n(e){var t=e.start,r=e.index,o=e.count,n=e.subscriber;r>=o?n.complete():(n.next(t),n.closed||(e.index=r+1,e.start=t+1,this.schedule(e)))}r.range=function(e,t,r){return void 0===e&&(e=0),new o.Observable(function(o){void 0===t&&(t=e,e=0);var i=0,c=e;if(r)return r.schedule(n,0,{index:i,count:t,start:e,subscriber:o});for(;;){if(i++>=t){o.complete();break}if(o.next(c++),o.closed)break}})},r.dispatch=n},{"../Observable":7}],40:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable");function n(e){var t=e.error;e.subscriber.error(t)}r.throwError=function(e,t){return t?new o.Observable(function(r){return t.schedule(n,0,{error:e,subscriber:r})}):new o.Observable(function(t){return t.error(e)})}},{"../Observable":7}],41:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),n=e("../scheduler/async"),i=e("../util/isNumeric"),c=e("../util/isScheduler");function s(e){var t=e.index,r=e.period,o=e.subscriber;if(o.next(t),!o.closed){if(-1===r)return o.complete();e.index=t+1,this.schedule(e,r)}}r.timer=function(e,t,r){void 0===e&&(e=0);var u=-1;return i.isNumeric(t)?u=Number(t)<1?1:Number(t):c.isScheduler(t)&&(r=t),c.isScheduler(r)||(r=n.async),new o.Observable(function(t){var o=i.isNumeric(e)?e:+e-r.now();return r.schedule(s,o,{index:0,period:u,subscriber:t})})}},{"../Observable":7,"../scheduler/async":69,"../util/isNumeric":88,"../util/isScheduler":92}],42:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),n=e("./from"),i=e("./empty");r.using=function(e,t){return new o.Observable(function(r){var o,c;try{o=e()}catch(e){return void r.error(e)}try{c=t(o)}catch(e){return void r.error(e)}var s=(c?n.from(c):i.EMPTY).subscribe(r);return function(){s.unsubscribe(),o&&o.unsubscribe()}})}},{"../Observable":7,"./empty":23,"./from":25}],43:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=e("./fromArray"),i=e("../util/isArray"),c=e("../Subscriber"),s=e("../OuterSubscriber"),u=e("../util/subscribeToResult"),a=e("../../internal/symbol/iterator");r.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return"function"==typeof r&&e.pop(),n.fromArray(e,void 0).lift(new l(r))};var l=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.resultSelector))},e}();r.ZipOperator=l;var p=function(e){function t(t,r,o){void 0===o&&(o=Object.create(null));var n=e.call(this,t)||this;return n.iterators=[],n.active=0,n.resultSelector="function"==typeof r?r:null,n.values=o,n}return o(t,e),t.prototype._next=function(e){var t=this.iterators;i.isArray(e)?t.push(new h(e)):"function"==typeof e[a.iterator]?t.push(new d(e[a.iterator]())):t.push(new f(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var r=0;r<t;r++){var o=e[r];if(o.stillUnsubscribed)this.destination.add(o.subscribe(o,r));else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,r=this.destination,o=0;o<t;o++){if("function"==typeof(c=e[o]).hasValue&&!c.hasValue())return}var n=!1,i=[];for(o=0;o<t;o++){var c,s=(c=e[o]).next();if(c.hasCompleted()&&(n=!0),s.done)return void r.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):r.next(i),n&&r.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(c.Subscriber);r.ZipSubscriber=p;var d=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),h=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[a.iterator]=function(){return this},e.prototype.next=function(e){var t=this.index++,r=this.array;return t<this.length?{value:r[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),f=function(e){function t(t,r,o){var n=e.call(this,t)||this;return n.parent=r,n.observable=o,n.stillUnsubscribed=!0,n.buffer=[],n.isComplete=!1,n}return o(t,e),t.prototype[a.iterator]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,r,o,n){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return u.subscribeToResult(this,this.observable,this,t)},t}(s.OuterSubscriber)},{"../../internal/symbol/iterator":71,"../OuterSubscriber":9,"../Subscriber":14,"../util/isArray":83,"../util/subscribeToResult":101,"./fromArray":26}],44:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./mergeAll");r.concatAll=function(){return o.mergeAll(1)}},{"./mergeAll":48}],45:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Subscriber");r.filter=function(e,t){return function(r){return r.lift(new i(e,t))}};var i=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.predicate,this.thisArg))},e}(),c=function(e){function t(t,r,o){var n=e.call(this,t)||this;return n.predicate=r,n.thisArg=o,n.count=0,n}return o(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(n.Subscriber)},{"../Subscriber":14}],46:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Subscriber"),i=e("../Subscription"),c=e("../Observable"),s=e("../Subject");r.groupBy=function(e,t,r,o){return function(n){return n.lift(new u(e,t,r,o))}};var u=function(){function e(e,t,r,o){this.keySelector=e,this.elementSelector=t,this.durationSelector=r,this.subjectSelector=o}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),a=function(e){function t(t,r,o,n,i){var c=e.call(this,t)||this;return c.keySelector=r,c.elementSelector=o,c.durationSelector=n,c.subjectSelector=i,c.groups=null,c.attemptedToUnsubscribe=!1,c.count=0,c}return o(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var r=this.groups;r||(r=this.groups=new Map);var o,n=r.get(t);if(this.elementSelector)try{o=this.elementSelector(e)}catch(e){this.error(e)}else o=e;if(!n){n=this.subjectSelector?this.subjectSelector():new s.Subject,r.set(t,n);var i=new p(t,n,this);if(this.destination.next(i),this.durationSelector){var c=void 0;try{c=this.durationSelector(new p(t,n))}catch(e){return void this.error(e)}this.add(c.subscribe(new l(t,n,this)))}}n.closed||n.next(o)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach(function(t,r){t.error(e)}),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(n.Subscriber),l=function(e){function t(t,r,o){var n=e.call(this,r)||this;return n.key=t,n.group=r,n.parent=o,n}return o(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(n.Subscriber),p=function(e){function t(t,r,o){var n=e.call(this)||this;return n.key=t,n.groupSubject=r,n.refCountSubscription=o,n}return o(t,e),t.prototype._subscribe=function(e){var t=new i.Subscription,r=this.refCountSubscription,o=this.groupSubject;return r&&!r.closed&&t.add(new d(r)),t.add(o.subscribe(e)),t},t}(c.Observable);r.GroupedObservable=p;var d=function(e){function t(t){var r=e.call(this)||this;return r.parent=t,t.count++,r}return o(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(i.Subscription)},{"../Observable":7,"../Subject":12,"../Subscriber":14,"../Subscription":15}],47:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Subscriber");r.map=function(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new i(e,t))}};var i=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.project,this.thisArg))},e}();r.MapOperator=i;var c=function(e){function t(t,r,o){var n=e.call(this,t)||this;return n.project=r,n.count=0,n.thisArg=o||n,n}return o(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(n.Subscriber)},{"../Subscriber":14}],48:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./mergeMap"),n=e("../util/identity");r.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),o.mergeMap(n.identity,e)}},{"../util/identity":82,"./mergeMap":49}],49:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=e("../util/subscribeToResult"),i=e("../OuterSubscriber"),c=e("../InnerSubscriber"),s=e("./map"),u=e("../observable/from");r.mergeMap=function e(t,r,o){return void 0===o&&(o=Number.POSITIVE_INFINITY),"function"==typeof r?function(n){return n.pipe(e(function(e,o){return u.from(t(e,o)).pipe(s.map(function(t,n){return r(e,t,o,n)}))},o))}:("number"==typeof r&&(o=r),function(e){return e.lift(new a(t,o))})};var a=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.project,this.concurrent))},e}();r.MergeMapOperator=a;var l=function(e){function t(t,r,o){void 0===o&&(o=Number.POSITIVE_INFINITY);var n=e.call(this,t)||this;return n.project=r,n.concurrent=o,n.hasCompleted=!1,n.buffer=[],n.active=0,n.index=0,n}return o(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var o=new c.InnerSubscriber(this,void 0,void 0);this.destination.add(o),n.subscribeToResult(this,e,t,r,o)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,o,n){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(i.OuterSubscriber);r.MergeMapSubscriber=l},{"../InnerSubscriber":5,"../OuterSubscriber":9,"../observable/from":25,"../util/subscribeToResult":101,"./map":47}],50:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Subscriber"),i=e("../Notification");r.observeOn=function(e,t){return void 0===t&&(t=0),function(r){return r.lift(new c(e,t))}};var c=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.scheduler,this.delay))},e}();r.ObserveOnOperator=c;var s=function(e){function t(t,r,o){void 0===o&&(o=0);var n=e.call(this,t)||this;return n.scheduler=r,n.delay=o,n}return o(t,e),t.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new u(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(i.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(i.Notification.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(i.Notification.createComplete()),this.unsubscribe()},t}(n.Subscriber);r.ObserveOnSubscriber=s;var u=function(){return function(e,t){this.notification=e,this.destination=t}}();r.ObserveOnMessage=u},{"../Notification":6,"../Subscriber":14}],51:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Subscriber");r.refCount=function(){return function(e){return e.lift(new i(e))}};var i=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var r=this.connectable;r._refCount++;var o=new c(e,r),n=t.subscribe(o);return o.closed||(o.connection=r.connect()),n},e}(),c=function(e){function t(t,r){var o=e.call(this,t)||this;return o.connectable=r,o}return o(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var r=this.connection,o=e._connection;this.connection=null,!o||r&&o!==r||o.unsubscribe()}}else this.connection=null},t}(n.Subscriber)},{"../Subscriber":14}],52:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),n=e("../Subscription");r.scheduleArray=function(e,t){return new o.Observable(function(r){var o=new n.Subscription,i=0;return o.add(t.schedule(function(){i!==e.length?(r.next(e[i++]),r.closed||o.add(this.schedule())):r.complete()})),o})}},{"../Observable":7,"../Subscription":15}],53:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),n=e("../Subscription"),i=e("../symbol/iterator");r.scheduleIterable=function(e,t){if(!e)throw new Error("Iterable cannot be null");return new o.Observable(function(r){var o,c=new n.Subscription;return c.add(function(){o&&"function"==typeof o.return&&o.return()}),c.add(t.schedule(function(){o=e[i.iterator](),c.add(t.schedule(function(){if(!r.closed){var e,t;try{var n=o.next();e=n.value,t=n.done}catch(e){return void r.error(e)}t?r.complete():(r.next(e),this.schedule())}}))})),c})}},{"../Observable":7,"../Subscription":15,"../symbol/iterator":71}],54:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),n=e("../Subscription"),i=e("../symbol/observable");r.scheduleObservable=function(e,t){return new o.Observable(function(r){var o=new n.Subscription;return o.add(t.schedule(function(){var n=e[i.observable]();o.add(n.subscribe({next:function(e){o.add(t.schedule(function(){return r.next(e)}))},error:function(e){o.add(t.schedule(function(){return r.error(e)}))},complete:function(){o.add(t.schedule(function(){return r.complete()}))}}))})),o})}},{"../Observable":7,"../Subscription":15,"../symbol/observable":72}],55:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),n=e("../Subscription");r.schedulePromise=function(e,t){return new o.Observable(function(r){var o=new n.Subscription;return o.add(t.schedule(function(){return e.then(function(e){o.add(t.schedule(function(){r.next(e),o.add(t.schedule(function(){return r.complete()}))}))},function(e){o.add(t.schedule(function(){return r.error(e)}))})})),o})}},{"../Observable":7,"../Subscription":15}],56:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./scheduleObservable"),n=e("./schedulePromise"),i=e("./scheduleArray"),c=e("./scheduleIterable"),s=e("../util/isInteropObservable"),u=e("../util/isPromise"),a=e("../util/isArrayLike"),l=e("../util/isIterable");r.scheduled=function(e,t){if(null!=e){if(s.isInteropObservable(e))return o.scheduleObservable(e,t);if(u.isPromise(e))return n.schedulePromise(e,t);if(a.isArrayLike(e))return i.scheduleArray(e,t);if(l.isIterable(e)||"string"==typeof e)return c.scheduleIterable(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},{"../util/isArrayLike":84,"../util/isInteropObservable":86,"../util/isIterable":87,"../util/isPromise":91,"./scheduleArray":52,"./scheduleIterable":53,"./scheduleObservable":54,"./schedulePromise":55}],57:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){function t(t,r){return e.call(this)||this}return o(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(e("../Subscription").Subscription);r.Action=n},{"../Subscription":15}],58:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){function t(t,r){var o=e.call(this,t,r)||this;return o.scheduler=t,o.work=r,o}return o(t,e),t.prototype.requestAsyncId=function(t,r,o){return void 0===o&&(o=0),null!==o&&o>0?e.prototype.requestAsyncId.call(this,t,r,o):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},t.prototype.recycleAsyncId=function(t,r,o){if(void 0===o&&(o=0),null!==o&&o>0||null===o&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,o);0===t.actions.length&&(cancelAnimationFrame(r),t.scheduled=void 0)},t}(e("./AsyncAction").AsyncAction);r.AnimationFrameAction=n},{"./AsyncAction":62}],59:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,o=-1,n=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++o<n&&(e=r.shift()));if(this.active=!1,t){for(;++o<n&&(e=r.shift());)e.unsubscribe();throw t}},t}(e("./AsyncScheduler").AsyncScheduler);r.AnimationFrameScheduler=n},{"./AsyncScheduler":63}],60:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=e("../util/Immediate"),i=function(e){function t(t,r){var o=e.call(this,t,r)||this;return o.scheduler=t,o.work=r,o}return o(t,e),t.prototype.requestAsyncId=function(t,r,o){return void 0===o&&(o=0),null!==o&&o>0?e.prototype.requestAsyncId.call(this,t,r,o):(t.actions.push(this),t.scheduled||(t.scheduled=n.Immediate.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,r,o){if(void 0===o&&(o=0),null!==o&&o>0||null===o&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,o);0===t.actions.length&&(n.Immediate.clearImmediate(r),t.scheduled=void 0)},t}(e("./AsyncAction").AsyncAction);r.AsapAction=i},{"../util/Immediate":76,"./AsyncAction":62}],61:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,o=-1,n=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++o<n&&(e=r.shift()));if(this.active=!1,t){for(;++o<n&&(e=r.shift());)e.unsubscribe();throw t}},t}(e("./AsyncScheduler").AsyncScheduler);r.AsapScheduler=n},{"./AsyncScheduler":63}],62:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){function t(t,r){var o=e.call(this,t,r)||this;return o.scheduler=t,o.work=r,o.pending=!1,o}return o(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(o,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r=!1,o=void 0;try{this.work(e)}catch(e){r=!0,o=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),o},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,o=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==o&&r.splice(o,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(e("./Action").Action);r.AsyncAction=n},{"./Action":57}],63:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Scheduler"),i=function(e){function t(r,o){void 0===o&&(o=n.Scheduler.now);var i=e.call(this,r,function(){return t.delegate&&t.delegate!==i?t.delegate.now():o()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return o(t,e),t.prototype.schedule=function(r,o,n){return void 0===o&&(o=0),t.delegate&&t.delegate!==this?t.delegate.schedule(r,o,n):e.prototype.schedule.call(this,r,o,n)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(n.Scheduler);r.AsyncScheduler=i},{"../Scheduler":11}],64:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){function t(t,r){var o=e.call(this,t,r)||this;return o.scheduler=t,o.work=r,o}return o(t,e),t.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,o){return void 0===o&&(o=0),null!==o&&o>0||null===o&&this.delay>0?e.prototype.requestAsyncId.call(this,t,r,o):t.flush(this)},t}(e("./AsyncAction").AsyncAction);r.QueueAction=n},{"./AsyncAction":62}],65:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(e("./AsyncScheduler").AsyncScheduler);r.QueueScheduler=n},{"./AsyncScheduler":63}],66:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=e("./AsyncAction"),i=function(e){function t(t,r){void 0===t&&(t=c),void 0===r&&(r=Number.POSITIVE_INFINITY);var o=e.call(this,t,function(){return o.frame})||this;return o.maxFrames=r,o.frame=0,o.index=-1,o}return o(t,e),t.prototype.flush=function(){for(var e,t,r=this.actions,o=this.maxFrames;(t=r[0])&&t.delay<=o&&(r.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(e("./AsyncScheduler").AsyncScheduler);r.VirtualTimeScheduler=i;var c=function(e){function t(t,r,o){void 0===o&&(o=t.index+=1);var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.index=o,n.active=!0,n.index=t.index=o,n}return o(t,e),t.prototype.schedule=function(r,o){if(void 0===o&&(o=0),!this.id)return e.prototype.schedule.call(this,r,o);this.active=!1;var n=new t(this.scheduler,this.work);return this.add(n),n.schedule(r,o)},t.prototype.requestAsyncId=function(e,r,o){void 0===o&&(o=0),this.delay=e.frame+o;var n=e.actions;return n.push(this),n.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,r){void 0===r&&(r=0)},t.prototype._execute=function(t,r){if(!0===this.active)return e.prototype._execute.call(this,t,r)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(n.AsyncAction);r.VirtualAction=c},{"./AsyncAction":62,"./AsyncScheduler":63}],67:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./AnimationFrameAction"),n=e("./AnimationFrameScheduler");r.animationFrame=new n.AnimationFrameScheduler(o.AnimationFrameAction)},{"./AnimationFrameAction":58,"./AnimationFrameScheduler":59}],68:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./AsapAction"),n=e("./AsapScheduler");r.asap=new n.AsapScheduler(o.AsapAction)},{"./AsapAction":60,"./AsapScheduler":61}],69:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./AsyncAction"),n=e("./AsyncScheduler");r.async=new n.AsyncScheduler(o.AsyncAction)},{"./AsyncAction":62,"./AsyncScheduler":63}],70:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./QueueAction"),n=e("./QueueScheduler");r.queue=new n.QueueScheduler(o.QueueAction)},{"./QueueAction":64,"./QueueScheduler":65}],71:[function(e,t,r){"use strict";function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(r,"__esModule",{value:!0}),r.getSymbolIterator=o,r.iterator=o(),r.$$iterator=r.iterator},{}],72:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},{}],73:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),r.$$rxSubscriber=r.rxSubscriber},{}],74:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();r.ArgumentOutOfRangeError=o},{}],75:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}();r.EmptyError=o},{}],76:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=1,n={};function i(e){var t=n[e];t&&t()}r.Immediate={setImmediate:function(e){var t=o++;return n[t]=e,Promise.resolve().then(function(){return i(t)}),t},clearImmediate:function(e){delete n[e]}}},{}],77:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}();r.ObjectUnsubscribedError=o},{}],78:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}();r.TimeoutError=o},{}],79:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}();r.UnsubscriptionError=o},{}],80:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Subscriber");r.canReportError=function(e){for(;e;){var t=e,r=t.closed,n=t.destination,i=t.isStopped;if(r||i)return!1;e=n&&n instanceof o.Subscriber?n:null}return!0}},{"../Subscriber":14}],81:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hostReportError=function(e){setTimeout(function(){throw e},0)}},{}],82:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.identity=function(e){return e}},{}],83:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},{}],84:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},{}],85:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isFunction=function(e){return"function"==typeof e}},{}],86:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../symbol/observable");r.isInteropObservable=function(e){return e&&"function"==typeof e[o.observable]}},{"../symbol/observable":72}],87:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../symbol/iterator");r.isIterable=function(e){return e&&"function"==typeof e[o.iterator]}},{"../symbol/iterator":71}],88:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./isArray");r.isNumeric=function(e){return!o.isArray(e)&&e-parseFloat(e)+1>=0}},{"./isArray":83}],89:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isObject=function(e){return null!==e&&"object"==typeof e}},{}],90:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable");r.isObservable=function(e){return!!e&&(e instanceof o.Observable||"function"==typeof e.lift&&"function"==typeof e.subscribe)}},{"../Observable":7}],91:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isPromise=function(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},{}],92:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isScheduler=function(e){return e&&"function"==typeof e.schedule}},{}],93:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.noop=function(){}},{}],94:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.not=function(e,t){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=e,r.thisArg=t,r}},{}],95:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./noop");function n(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:o.noop}r.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n(e)},r.pipeFromArray=n},{"./noop":93}],96:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./subscribeToArray"),n=e("./subscribeToPromise"),i=e("./subscribeToIterable"),c=e("./subscribeToObservable"),s=e("./isArrayLike"),u=e("./isPromise"),a=e("./isObject"),l=e("../symbol/iterator"),p=e("../symbol/observable");r.subscribeTo=function(e){if(e&&"function"==typeof e[p.observable])return c.subscribeToObservable(e);if(s.isArrayLike(e))return o.subscribeToArray(e);if(u.isPromise(e))return n.subscribeToPromise(e);if(e&&"function"==typeof e[l.iterator])return i.subscribeToIterable(e);var t=a.isObject(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},{"../symbol/iterator":71,"../symbol/observable":72,"./isArrayLike":84,"./isObject":89,"./isPromise":91,"./subscribeToArray":97,"./subscribeToIterable":98,"./subscribeToObservable":99,"./subscribeToPromise":100}],97:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.subscribeToArray=function(e){return function(t){for(var r=0,o=e.length;r<o&&!t.closed;r++)t.next(e[r]);t.complete()}}},{}],98:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../symbol/iterator");r.subscribeToIterable=function(e){return function(t){for(var r=e[o.iterator]();;){var n=r.next();if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof r.return&&t.add(function(){r.return&&r.return()}),t}}},{"../symbol/iterator":71}],99:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../symbol/observable");r.subscribeToObservable=function(e){return function(t){var r=e[o.observable]();if("function"!=typeof r.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(t)}}},{"../symbol/observable":72}],100:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./hostReportError");r.subscribeToPromise=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,o.hostReportError),t}}},{"./hostReportError":81}],101:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../InnerSubscriber"),n=e("./subscribeTo"),i=e("../Observable");r.subscribeToResult=function(e,t,r,c,s){if(void 0===s&&(s=new o.InnerSubscriber(e,r,c)),!s.closed)return t instanceof i.Observable?t.subscribe(s):n.subscribeTo(t)(s)}},{"../InnerSubscriber":5,"../Observable":7,"./subscribeTo":96}],102:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Subscriber"),n=e("../symbol/rxSubscriber"),i=e("../Observer");r.toSubscriber=function(e,t,r){if(e){if(e instanceof o.Subscriber)return e;if(e[n.rxSubscriber])return e[n.rxSubscriber]()}return e||t||r?new o.Subscriber(e,t,r):new o.Subscriber(i.empty)}},{"../Observer":8,"../Subscriber":14,"../symbol/rxSubscriber":73}],city:[function(e,t,r){"use strict";cc._RF.push(t,"f160cNhha1ELYE9NG5QtQC1","city"),Object.defineProperty(r,"__esModule",{value:!0}),r.City=void 0;var o=function(){return function(){}}();r.City=o,cc._RF.pop()},{}],constants:[function(e,t,r){"use strict";cc._RF.push(t,"41c0eYUGGxKj6Bgm4Zn69Vi","constants"),Object.defineProperty(r,"__esModule",{value:!0}),r.Lord=r.City=r.GameScene=void 0,function(e){e.Main="main",e.SelectMaster="select-master",e.SelectOne="select-one",e.Map005="map005"}(r.GameScene||(r.GameScene={})),function(e){e.Map005Zhuya="\u6731\u5d16\u57ce"}(r.City||(r.City={})),function(e){e.Caocao="lord-caocao",e.Sunquan="lord-sunquan",e.Liubei="lord-liubei",e.Dongzhuo="lord-dongzhuo",e.Yuanshao="lord-yuanshao",e.Yuanshu="lord-yuanshu",e.Liubiao="lord-liubiao",e.Shixie="lord-shixie",e.Cheliji="lord-cheliji",e.Menghuo="lord-menghuo",e.Beimihu="lord-beimihu"}(r.Lord||(r.Lord={})),cc._RF.pop()},{}],"get-dice-x":[function(e,t,r){"use strict";cc._RF.push(t,"37c8eciHpNAk4R54jsxPfci","get-dice-x"),Object.defineProperty(r,"__esModule",{value:!0}),r.getDiceX=void 0,r.getDiceX=function(e,t){switch(t){case 1:return e-8-75+2;case 2:return e-8-60+2;case 3:return e-8-45+2;case 4:return e-8-30+2;case 5:return e-8-15+2;case 6:return e-8+2;case 7:return e-8+15;case 8:return e-8+30;case 9:return e-8+45;case 10:return e-8+60-2;case 11:return e-8+75-2;case 12:return e-8+90-2;default:return 0}},cc._RF.pop()},{}],"get-random-int":[function(e,t,r){"use strict";cc._RF.push(t,"989cdc/WGZHvKsyA8xfwB9r","get-random-int"),Object.defineProperty(r,"__esModule",{value:!0}),r.getRandomInt=void 0,r.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},cc._RF.pop()},{}],"hide-mouse-cursor":[function(e,t,r){"use strict";cc._RF.push(t,"8a7b0ByIBRJvbZRrp9hJfoB","hide-mouse-cursor"),Object.defineProperty(r,"__esModule",{value:!0}),r.hideMouseCursor=void 0,r.hideMouseCursor=function(){cc.game.canvas.style.cursor="none"},cc._RF.pop()},{}],"load-res":[function(e,t,r){"use strict";cc._RF.push(t,"1d6d4Ie73ZGqqQoOrTv1Dbj","load-res");var o=this&&this.__awaiter||function(e,t,r,o){function n(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function c(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?r(e.value):n(e.value).then(c,s)}u((o=o.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){var r,o,n,i,c={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return u([e,t])}}function u(i){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(n=(n=c.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){c.label=i[1];break}if(6===i[0]&&c.label<n[1]){c.label=n[1],n=i;break}if(n&&c.label<n[2]){c.label=n[2],c.ops.push(i);break}n[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(r,"__esModule",{value:!0}),r.loadRes=void 0;var i=e("../common/logger");r.loadRes=function(e,t){return o(this,void 0,Promise,function(){return n(this,function(r){return[2,new Promise(function(r,o){var n=function(e,t){if(e)return i.log({msg:"\u62a5\u9519: "+e.message,channel:"\u52a0\u8f7d\u8d44\u6e90",data:e}),void o(e.message);r(t)};t?cc.loader.loadRes(e,t,n):cc.loader.loadRes(e,n)})]})})},cc._RF.pop()},{"../common/logger":"logger"}],logger:[function(e,t,r){"use strict";cc._RF.push(t,"e2743BwJhNLB6TTKjuYgRml","logger"),Object.defineProperty(r,"__esModule",{value:!0}),r.log=void 0;var o=e("dayjs");r.log=function(e){var t=o().format("YYYY-MM-DD HH:mm:ss.SSS")+"   ";e.channel&&(t+="["+e.channel+"] "),t+=""+e.msg,e.data&&(t+=" "+JSON.stringify(e.data)),cc.log(t)},cc._RF.pop()},{dayjs:1}],main:[function(e,t,r){"use strict";cc._RF.push(t,"e1b90/rohdEk4SdmmEZANaD","main");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(i<3?n(c):i>3?n(t,r,c):n(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(r,"__esModule",{value:!0});var i=cc.Node.EventType,c=e("./constants"),s=e("./utils/node-utils"),u=e("./utils/show-mouse-cursor"),a=cc._decorator,l=a.ccclass,p=a.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.version=null,t.exitHover=null,t.staffHover=null,t.settingHover=null,t.loadingHover=null,t.stageHover=null,t.storyHover=null,t.bgm=null,t.clickAudio=null,t.moveAudio=null,t}return o(t,e),t.prototype.start=function(){},t.prototype.onLoad=function(){this.version.string="v0.1.0",this.initMenu(),u.showMouseCursor(),cc.audioEngine.playEffect(this.bgm,!0)},t.prototype.initMenu=function(){this.setEvent(this.exitHover),this.setEvent(this.staffHover),this.setEvent(this.settingHover),this.setEvent(this.loadingHover),this.setEvent(this.stageHover),this.setEvent(this.storyHover)},t.prototype.setEvent=function(e){this.setHoverEvent(e),this.setClickEvent(e)},t.prototype.setHoverEvent=function(e){var t=this;e.on(i.MOUSE_ENTER,function(){s.showNode(e),cc.audioEngine.playEffect(t.moveAudio,!1)}),e.on(i.MOUSE_LEAVE,function(){return s.hideNode(e)})},t.prototype.setClickEvent=function(e){var t=this;e.on(i.MOUSE_DOWN,function(){switch(e){case t.storyHover:cc.director.loadScene(c.GameScene.SelectMaster);break;case t.stageHover:cc.director.loadScene(c.GameScene.SelectOne)}cc.audioEngine.playEffect(t.clickAudio,!1)})},n([p(cc.Label)],t.prototype,"version",void 0),n([p(cc.Node)],t.prototype,"exitHover",void 0),n([p(cc.Node)],t.prototype,"staffHover",void 0),n([p(cc.Node)],t.prototype,"settingHover",void 0),n([p(cc.Node)],t.prototype,"loadingHover",void 0),n([p(cc.Node)],t.prototype,"stageHover",void 0),n([p(cc.Node)],t.prototype,"storyHover",void 0),n([p({type:cc.AudioClip})],t.prototype,"bgm",void 0),n([p({type:cc.AudioClip})],t.prototype,"clickAudio",void 0),n([p({type:cc.AudioClip})],t.prototype,"moveAudio",void 0),t=n([l],t)}(cc.Component);r.default=d,cc._RF.pop()},{"./constants":"constants","./utils/node-utils":"node-utils","./utils/show-mouse-cursor":"show-mouse-cursor"}],"map005-data":[function(e,t,r){"use strict";cc._RF.push(t,"2745b7Iy0BIvJ/j9LXOgIX8","map005-data"),Object.defineProperty(r,"__esModule",{value:!0}),r.map005Road=void 0;var o=e("../../models/road");r.map005Road=[{name:"01/01-01",nodes:["11/11-10","01/01-02"],supportDirection:[o.Direction.BottomRight,o.Direction.TopLeft]},{name:"01/01-02",nodes:["01/01-01","01/01-03"],supportDirection:[o.Direction.BottomRight,o.Direction.TopLeft]},{name:"01/01-03",nodes:["01/01-02","01/01-04"],supportDirection:[o.Direction.BottomRight,o.Direction.TopLeft]},{name:"01/01-04",nodes:["01/01-03","01/01-05"],supportDirection:[o.Direction.BottomRight,o.Direction.TopLeft]},{name:"01/01-05",nodes:["01/01-04","01/01-06"],supportDirection:[o.Direction.BottomRight,o.Direction.TopLeft]},{name:"01/01-06",nodes:["01/01-05","01/01-07"],supportDirection:[o.Direction.BottomRight,o.Direction.TopLeft]},{name:"01/01-07",nodes:["01/01-06","01/01-08"],supportDirection:[o.Direction.BottomRight,o.Direction.TopLeft]},{name:"01/01-08",nodes:["01/01-07","01/01-09"],supportDirection:[o.Direction.BottomRight,o.Direction.TopLeft]},{name:"01/01-09",nodes:["01/01-08","01/01-10"],supportDirection:[o.Direction.BottomRight,o.Direction.TopRight],turn:!0},{name:"01/01-10",nodes:["01/01-09","01/01-11"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"01/01-11",nodes:["01/01-10","01/01-12"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"01/01-12",nodes:["01/01-11","01/01-13"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"01/01-13",nodes:["01/01-12","01/01-14"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"01/01-14",nodes:["01/01-13","01/01-15"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"01/01-15",nodes:["01/01-14","01/01-16"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"01/01-16",nodes:["01/01-15","01/01-17"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"01/01-17",nodes:["01/01-16","01/01-18"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"01/01-18",nodes:["01/01-17","02/02-01"],supportDirection:[o.Direction.BottomLeft,o.Direction.BottomRight],turn:!0},{name:"02/02-01",nodes:["01/01-18","02/02-02"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomRight]},{name:"02/02-02",nodes:["02/02-01","02/02-03"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomRight]},{name:"02/02-03",nodes:["02/02-02","02/02-04"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomRight]},{name:"02/02-04",nodes:["02/02-03","02/02-05"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomRight]},{name:"02/02-05",nodes:["02/02-04","02/02-06"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomRight]},{name:"02/02-06",nodes:["02/02-05","03/03-01"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomRight]},{name:"03/03-01",nodes:["02/02-06","03/03-02"],supportDirection:[o.Direction.TopLeft,o.Direction.TopRight],turn:!0},{name:"03/03-02",nodes:["03/03-01","03/03-03"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"03/03-03",nodes:["03/03-02","03/03-04"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"03/03-04",nodes:["03/03-03","03/03-05"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"03/03-05",nodes:["03/03-04","04/04-01"],supportDirection:[o.Direction.BottomLeft,o.Direction.BottomRight],turn:!0},{name:"04/04-01",nodes:["03/03-05","04/04-02"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomRight]},{name:"04/04-02",nodes:["04/04-01","04/04-03"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomRight]},{name:"04/04-03",nodes:["04/04-02","04/04-04"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomRight]},{name:"04/04-04",nodes:["04/04-03","05/05-01"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomRight]},{name:"05/05-01",nodes:["04/04-04","05/05-02","10/10-06"],supportDirection:[o.Direction.TopLeft,o.Direction.TopRight,o.Direction.BottomLeft],variable:!0},{name:"05/05-02",nodes:["05/05-01","05/05-03"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"05/05-03",nodes:["05/05-02","05/05-04"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"05/05-04",nodes:["05/05-03","05/05-05"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"05/05-05",nodes:["05/05-04","05/05-06"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"05/05-06",nodes:["05/05-05","05/05-07"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"05/05-07",nodes:["05/05-06","05/05-08"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"05/05-08",nodes:["05/05-07","05/05-09"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"05/05-09",nodes:["05/05-08","05/05-10"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"05/05-10",nodes:["05/05-09","05/05-11"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"05/05-11",nodes:["05/05-10","06/06-01"],supportDirection:[o.Direction.BottomLeft,o.Direction.BottomRight],turn:!0},{name:"06/06-01",nodes:["05/05-11","06/06-02"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomRight]},{name:"06/06-02",nodes:["06/06-01","06/06-03"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomRight]},{name:"06/06-03",nodes:["06/06-02","06/06-04"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomRight]},{name:"06/06-04",nodes:["06/06-03","06/06-05"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomRight]},{name:"06/06-05",nodes:["06/06-04","06/06-06"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomRight]},{name:"06/06-06",nodes:["06/06-05","06/06-07"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomRight]},{name:"06/06-07",nodes:["06/06-06","06/06-08"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomRight]},{name:"06/06-08",nodes:["06/06-07","06/06-09"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomRight]},{name:"06/06-09",nodes:["06/06-08","06/06-10"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomRight]},{name:"06/06-10",nodes:["06/06-09","06/06-11"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomRight]},{name:"06/06-11",nodes:["06/06-10","06/06-12"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomRight]},{name:"06/06-12",nodes:["06/06-11","06/06-13"],supportDirection:[o.Direction.TopLeft,o.Direction.BottomLeft],turn:!0},{name:"06/06-13",nodes:["06/06-12","06/06-14"],supportDirection:[o.Direction.TopRight,o.Direction.BottomLeft]},{name:"06/06-14",nodes:["06/06-13","06/06-15"],supportDirection:[o.Direction.TopRight,o.Direction.BottomLeft]},{name:"06/06-15",nodes:["06/06-14","06/06-16"],supportDirection:[o.Direction.TopRight,o.Direction.BottomLeft]},{name:"06/06-16",nodes:["06/06-15","06/06-17"],supportDirection:[o.Direction.TopRight,o.Direction.BottomLeft]},{name:"06/06-17",nodes:["06/06-16","06/06-18"],supportDirection:[o.Direction.TopRight,o.Direction.BottomLeft]},{name:"06/06-18",nodes:["06/06-17","06/06-19"],supportDirection:[o.Direction.TopRight,o.Direction.BottomLeft]},{name:"06/06-19",nodes:["06/06-18","06/06-20"],supportDirection:[o.Direction.TopRight,o.Direction.BottomLeft]},{name:"06/06-20",nodes:["06/06-19","06/06-21"],supportDirection:[o.Direction.TopRight,o.Direction.BottomLeft]},{name:"06/06-21",nodes:["06/06-20","06/06-22"],supportDirection:[o.Direction.TopRight,o.Direction.BottomLeft]},{name:"06/06-22",nodes:["06/06-21","06/06-23"],supportDirection:[o.Direction.TopRight,o.Direction.TopLeft],turn:!0},{name:"06/06-23",nodes:["06/06-22","06/06-24"],supportDirection:[o.Direction.BottomRight,o.Direction.TopLeft]},{name:"06/06-24",nodes:["06/06-23","06/06-25"],supportDirection:[o.Direction.BottomRight,o.Direction.TopLeft]},{name:"06/06-25",nodes:["06/06-24","07/07-01"],supportDirection:[o.Direction.BottomRight,o.Direction.TopLeft]},{name:"07/07-01",nodes:["06/06-25","07/07-02"],supportDirection:[o.Direction.BottomRight,o.Direction.TopLeft]},{name:"07/07-02",nodes:["07/07-01","07/07-03"],supportDirection:[o.Direction.BottomRight,o.Direction.TopLeft]},{name:"07/07-03",nodes:["07/07-02","07/07-04"],supportDirection:[o.Direction.BottomRight,o.Direction.TopLeft]},{name:"07/07-04",nodes:["07/07-03","07/07-05"],supportDirection:[o.Direction.BottomRight,o.Direction.TopLeft]},{name:"07/07-05",nodes:["07/07-04","08/08-01"],supportDirection:[o.Direction.BottomRight,o.Direction.BottomLeft],turn:!0},{name:"08/08-01",nodes:["07/07-05","08/08-02"],supportDirection:[o.Direction.TopRight,o.Direction.BottomLeft]},{name:"08/08-02",nodes:["08/08-01","08/08-03"],supportDirection:[o.Direction.TopRight,o.Direction.BottomLeft]},{name:"08/08-03",nodes:["08/08-02","08/08-04"],supportDirection:[o.Direction.TopRight,o.Direction.BottomLeft]},{name:"08/08-04",nodes:["08/08-03","08/08-05"],supportDirection:[o.Direction.TopRight,o.Direction.BottomLeft]},{name:"08/08-05",nodes:["08/08-04","09/09-01"],supportDirection:[o.Direction.TopRight,o.Direction.BottomLeft]},{name:"09/09-01",nodes:["08/08-05","09/09-02"],supportDirection:[o.Direction.TopRight,o.Direction.TopLeft],turn:!0},{name:"09/09-02",nodes:["09/09-01","09/09-03"],supportDirection:[o.Direction.BottomRight,o.Direction.TopLeft]},{name:"09/09-03",nodes:["09/09-02","09/09-04"],supportDirection:[o.Direction.BottomRight,o.Direction.TopLeft]},{name:"09/09-04",nodes:["09/09-03","10/10-01"],supportDirection:[o.Direction.BottomRight,o.Direction.TopLeft]},{name:"10/10-01",nodes:["09/09-04","10/10-02","11/11-01"],supportDirection:[o.Direction.BottomRight,o.Direction.TopRight,o.Direction.BottomLeft],variable:!0},{name:"10/10-02",nodes:["10/10-01","10/10-03"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"10/10-03",nodes:["10/10-02","10/10-04"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"10/10-04",nodes:["10/10-03","10/10-05"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"10/10-05",nodes:["10/10-04","10/10-06"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"10/10-06",nodes:["10/10-05","05/05-01"],supportDirection:[o.Direction.BottomLeft,o.Direction.TopRight]},{name:"11/11-01",nodes:["10/10-01","11/11-02"],supportDirection:[o.Direction.TopRight,o.Direction.BottomLeft]},{name:"11/11-02",nodes:["11/11-01","11/11-03"],supportDirection:[o.Direction.TopRight,o.Direction.BottomLeft]},{name:"11/11-03",nodes:["11/11-02","11/11-04"],supportDirection:[o.Direction.TopRight,o.Direction.BottomLeft]},{name:"11/11-04",nodes:["11/11-03","11/11-05"],supportDirection:[o.Direction.TopRight,o.Direction.BottomLeft]},{name:"11/11-05",nodes:["11/11-04","11/11-06"],supportDirection:[o.Direction.TopRight,o.Direction.BottomLeft]},{name:"11/11-06",nodes:["11/11-05","11/11-07"],supportDirection:[o.Direction.TopRight,o.Direction.BottomLeft]},{name:"11/11-07",nodes:["11/11-06","11/11-08"],supportDirection:[o.Direction.TopRight,o.Direction.TopLeft],turn:!0},{name:"11/11-08",nodes:["11/11-07","11/11-09"],supportDirection:[o.Direction.BottomRight,o.Direction.TopLeft]},{name:"11/11-09",nodes:["11/11-08","11/11-10"],supportDirection:[o.Direction.BottomRight,o.Direction.TopLeft]},{name:"11/11-10",nodes:["11/11-09","01/01-01"],supportDirection:[o.Direction.BottomRight,o.Direction.TopLeft]}],cc._RF.pop()},{"../../models/road":"road"}],map005:[function(e,t,r){"use strict";cc._RF.push(t,"c9cdehnJZdPB6dBmiXhA1Fo","map005");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(i<3?n(c):i>3?n(t,r,c):n(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c},i=this&&this.__awaiter||function(e,t,r,o){function n(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function c(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?r(e.value):n(e.value).then(c,s)}u((o=o.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var r,o,n,i,c={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return u([e,t])}}function u(i){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(n=(n=c.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){c.label=i[1];break}if(6===i[0]&&c.label<n[1]){c.label=n[1],n=i;break}if(n&&c.label<n[2]){c.label=n[2],c.ops.push(i);break}n[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(r,"__esModule",{value:!0});var s=cc.Node.EventType,u=e("../../common/logger"),a=e("../../data/map/map005-data"),l=e("../../models/road"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.minter=null,t.road=null,t.cities=null,t.mainCamera=null,t.p1Camera=null,t.player1=null,t}return o(t,e),t.prototype.start=function(){var e=this;this.roadComp=this.road.getComponent("road-view"),this.roadComp.init(a.map005Road),this.playerComp=this.player1.getComponent("player-view");this.playerComp.init({state:{name:"\u66f9\u64cd",dice:{max:12,dice:6},diceNum:5,position:this.roadComp.getRoadNode("11/11-03"),direction:l.Direction.TopRight},mapRoad:this.roadComp}),this.minterComp=this.minter.getComponent("minter-view"),this.minterComp.onDice$.subscribe(function(t){console.log("\u83b7\u5f97\u7ed3\u679c: "+t),e.playerComp.walk(t)},function(e){u.log({msg:"\u76d1\u542c\u51fa\u9519",channel:"\u76d1\u542c\u63b7\u9ab0\u5b50\u7ed3\u679c",data:{error:e}})}),this.minterComp.mapRoad=this.roadComp,this.node.on(s.MOUSE_DOWN,function(){})},t.prototype.update=function(e){this.mainCamera.node.setPosition(this.playerComp.node.getPosition())},t.prototype.onLoad=function(){return i(this,void 0,Promise,function(){return c(this,function(e){return[2]})})},n([h({type:cc.Node,tooltip:"\u73a9\u5bb6\u63a7\u5236\u5668"})],t.prototype,"minter",void 0),n([h({type:cc.Node,tooltip:"\u9053\u8def\u56fe\u5c42"})],t.prototype,"road",void 0),n([h({type:cc.Node,tooltip:"\u57ce\u6c60\u56fe\u5c42"})],t.prototype,"cities",void 0),n([h({type:cc.Camera,tooltip:"\u4e3b\u89c6\u89d2"})],t.prototype,"mainCamera",void 0),n([h({type:cc.Camera,tooltip:"\u73a9\u5bb61\u89c6\u89d2"})],t.prototype,"p1Camera",void 0),n([h({type:cc.Node,tooltip:"\u73a9\u5bb61"})],t.prototype,"player1",void 0),t=n([d],t)}(cc.Component);r.default=f,cc._RF.pop()},{"../../common/logger":"logger","../../data/map/map005-data":"map005-data","../../models/road":"road"}],"minter-view":[function(e,t,r){"use strict";cc._RF.push(t,"067c4DwatVPDLJgD76IEAwN","minter-view");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(i<3?n(c):i>3?n(t,r,c):n(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c},i=this&&this.__awaiter||function(e,t,r,o){function n(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function c(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?r(e.value):n(e.value).then(c,s)}u((o=o.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var r,o,n,i,c={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return u([e,t])}}function u(i){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(n=(n=c.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){c.label=i[1];break}if(6===i[0]&&c.label<n[1]){c.label=n[1],n=i;break}if(n&&c.label<n[2]){c.label=n[2],c.ops.push(i);break}n[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(r,"__esModule",{value:!0}),r.MinterView=void 0;var s=cc.Node.EventType,u=e("rxjs"),a=e("../../common/logger"),l=e("../../utils/get-random-int"),p=e("../../utils/hide-mouse-cursor"),d=e("../../utils/node-utils"),h=e("../../utils/show-mouse-cursor"),f=e("./internat/get-dice-x"),b=cc._decorator,y=b.ccclass,v=b.property,m=function(e){function t(){var t=e.call(this)||this;return t.dice=null,t.dice6Ind=null,t.dice9Ind=null,t.dice6Clicked=null,t.dice9=null,t.dice9Clicked=null,t.dice12=null,t.dice12Clicked=null,t.enabled=!0,t.onDice$=new u.Subject,t.state={max:9,dice:6},t}return o(t,e),t.prototype.start=function(){var e=this;[this.dice6Clicked,this.dice9Clicked,this.dice12Clicked].forEach(function(t){return e.initActionEvent(t)}),h.showMouseCursor()},t.prototype.update=function(e){},t.prototype.onLoad=function(){this.loadStatus({max:12,dice:6})},t.prototype.onDestroy=function(){this.onDice$.complete()},t.prototype.disable=function(){this.enabled=!1,p.hideMouseCursor()},t.prototype.enable=function(){this.enabled=!0,h.showMouseCursor()},t.prototype.loadStatus=function(e){var t=this;a.log({msg:"\u52a0\u8f7d\u63a7\u5236\u5668\u72b6\u6001",channel:"\u884c\u4e3a\u63a7\u5236\u5668",data:e});var r=function(){switch(t.state=e,t.dice.x=t.getDiceX(t.state.dice),e.max){case 6:d.showNode([t.dice6Ind]),d.hideNode([t.dice9,t.dice12]);break;case 9:d.showNode([t.dice9,t.dice9Ind]),d.hideNode([t.dice12,t.dice6Ind]);break;case 12:d.showNode([t.dice9,t.dice12]),d.hideNode([t.dice6Ind,t.dice9Ind])}};d.hideNode(this.node),this.scheduleOnce(function(){r(),d.showNode(t.node)})},t.prototype.getDiceX=function(e){return f.getDiceX(this.dice6Ind.x,e)},t.prototype.initActionEvent=function(e){var t=this;e.on(s.MOUSE_UP,function(){return i(t,void 0,void 0,function(){var t,r;return c(this,function(o){switch(o.label){case 0:if(!this.enabled)return[2];switch(e){case this.dice6Clicked:t=6,d.hideNode(this.dice6Clicked);break;case this.dice9Clicked:this.state.max>=9&&(t=9,d.hideNode(this.dice9Clicked));break;case this.dice12Clicked:12===this.state.max&&(t=12,d.hideNode(this.dice12Clicked))}return t?[4,this.diceAction(t)]:[3,2];case 1:r=o.sent(),a.log({msg:"\u63b7\u9ab0\u5b50\u7ed3\u679c:"+r,channel:"\u884c\u4e3a\u63a7\u5236\u5668",data:{node:e.name}}),this.onDice$.next(r),o.label=2;case 2:return[2]}})})}),e.on(s.MOUSE_DOWN,function(){if(t.enabled)switch(e){case t.dice6Clicked:d.showNode(t.dice6Clicked);break;case t.dice9Clicked:t.state.max>=9&&d.showNode(t.dice9Clicked);break;case t.dice12Clicked:12===t.state.max&&d.showNode(t.dice12Clicked)}}),e.on(s.MOUSE_ENTER,function(){e!==t.dice6Clicked&&e!==t.dice9Clicked&&e!==t.dice12Clicked||d.showNode(t.mapRoad.floor)}),e.on(s.MOUSE_LEAVE,function(){e!==t.dice6Clicked&&e!==t.dice9Clicked&&e!==t.dice12Clicked||d.hideNode(t.mapRoad.floor)})},t.prototype.diceAction=function(e){return i(this,void 0,Promise,function(){var t=this;return c(this,function(r){return[2,new Promise(function(r){var o=l.getRandomInt(1,e),n=cc.callFunc(function(){t.enable(),r(o)}),i=cc.moveTo(.5,t.getDiceX(e),t.dice.y),c=cc.moveTo(.5,t.getDiceX(1),t.dice.y),s=t.getDiceX(o),u=cc.moveTo(.5,s,t.dice.y),a=cc.sequence(i,c,u,n);t.dice.runAction(cc.speed(a,2)),t.disable()})]})})},n([v({type:cc.Node,tooltip:"\u9ab0\u5b50\u6eda\u52a8\u6761\u7684\u5706\u73e0"})],t.prototype,"dice",void 0),n([v({type:cc.Node,tooltip:"\u8bf8\u845b\u516d\u7b97\u73e0\u6eda\u52a8\u6761"})],t.prototype,"dice6Ind",void 0),n([v({type:cc.Node,tooltip:"\u8bf8\u845b\u4e5d\u7b97\u73e0\u6eda\u52a8\u6761"})],t.prototype,"dice9Ind",void 0),n([v({type:cc.Node,tooltip:"\u8bf8\u845b\u516d\u7b97\u73e0(\u70b9\u51fb\u72b6\u6001)"})],t.prototype,"dice6Clicked",void 0),n([v({type:cc.Node,tooltip:"\u8bf8\u845b\u4e5d\u7b97\u73e0"})],t.prototype,"dice9",void 0),n([v({type:cc.Node,tooltip:"\u8bf8\u845b\u4e5d\u7b97\u73e0(\u70b9\u51fb\u72b6\u6001)"})],t.prototype,"dice9Clicked",void 0),n([v({type:cc.Node,tooltip:"\u8bf8\u845b\u5341\u4e8c\u7b97\u73e0"})],t.prototype,"dice12",void 0),n([v({type:cc.Node,tooltip:"\u8bf8\u845b\u5341\u4e8c\u7b97\u73e0(\u70b9\u51fb\u72b6\u6001)"})],t.prototype,"dice12Clicked",void 0),t=n([y],t)}(cc.Component);r.MinterView=m,cc._RF.pop()},{"../../common/logger":"logger","../../utils/get-random-int":"get-random-int","../../utils/hide-mouse-cursor":"hide-mouse-cursor","../../utils/node-utils":"node-utils","../../utils/show-mouse-cursor":"show-mouse-cursor","./internat/get-dice-x":"get-dice-x",rxjs:2}],minter:[function(e,t,r){"use strict";cc._RF.push(t,"d12d2Bh/NROFqrspTS8Hlh3","minter"),Object.defineProperty(r,"__esModule",{value:!0}),cc._RF.pop()},{}],"node-utils":[function(e,t,r){"use strict";cc._RF.push(t,"f91e7fZlGFBmL3lr+KkGo4Y","node-utils"),Object.defineProperty(r,"__esModule",{value:!0}),r.hideNode=r.showNode=void 0,r.showNode=function(e){if(e instanceof Array)for(var t=0,r=e;t<r.length;t++){var o=r[t];e&&(o.opacity=255)}else e&&(e.opacity=255)},r.hideNode=function(e){if(e instanceof Array)for(var t=0,r=e;t<r.length;t++){var o=r[t];e&&(o.opacity=0)}else e&&(e.opacity=0)},cc._RF.pop()},{}],"number-helpers":[function(e,t,r){"use strict";cc._RF.push(t,"ef0d4oymFlKQ7pzu+gzS/i8","number-helpers"),Object.defineProperty(r,"__esModule",{value:!0}),r.formatNumber=void 0,r.formatNumber=function(e){return Math.round(100*e)/100},cc._RF.pop()},{}],person:[function(e,t,r){"use strict";cc._RF.push(t,"b10ed3PB5VA4JJDHpyEYKcA","person"),Object.defineProperty(r,"__esModule",{value:!0}),cc._RF.pop()},{}],"player-view":[function(e,t,r){"use strict";cc._RF.push(t,"6587fk1QBFBfIgmaQg/uxIz","player-view");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(i<3?n(c):i>3?n(t,r,c):n(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(r,"__esModule",{value:!0});var i=e("../../common/logger"),c=e("../../utils/route-helpers"),s=cc._decorator,u=s.ccclass,a=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t}return o(t,e),t.prototype.onLoad=function(){this.animationComp=this.getComponent(cc.Animation)},t.prototype.start=function(){},t.prototype.init=function(e){i.log({msg:"\u521d\u59cb\u5316\u89d2\u8272",channel:"\u89d2\u8272\u63a7\u5236\u5668",data:e.state}),this.state=e.state,this.mapRoad=e.mapRoad,this.setPosition(e.state.position),this.setDirection()},t.prototype.setDirection=function(e){var t=e||this.state.direction,r=this.animationComp.getClips().find(function(e){return e.name===t});r&&(i.log({msg:"("+this.state.name+")\u8bbe\u7f6e\u65b9\u5411: "+t,channel:"\u89d2\u8272\u63a7\u5236\u5668"}),this.state.direction=t,this.animationComp.play(r.name))},t.prototype.setWalkDirection=function(e){var t="walk-"+(e||this.state.direction),r=this.animationComp.getClips().find(function(e){return e.name===t});r&&(i.log({msg:"("+this.state.name+")\u8bbe\u7f6e\u884c\u8d70\u65b9\u5411: "+t,channel:"\u89d2\u8272\u63a7\u5236\u5668"}),this.animationComp.play(r.name))},t.prototype.setPosition=function(e){i.log({msg:"\u8bbe\u7f6e\u4f4d\u7f6e",channel:"\u89d2\u8272\u63a7\u5236\u5668",data:{node:e}});var t=this.mapRoad.findRoadCcNode(e.name);this.state.position=e,this.node.setPosition(t.getPosition())},t.prototype.walk=function(e){var t=c.getWalkRouteLine(e,this.state,this.mapRoad);i.log({msg:"\u83b7\u53d6\u884c\u8d70\u8def\u5f84",channel:"\u89d2\u8272\u63a7\u5236\u5668",data:{routeNodes:t}}),this.doWalkAction(t)},t.prototype.doWalkAction=function(e){for(var t=this,r=[],o=function(e){var o=n.mapRoad.findRoadCcNode(e.node.name);n.setWalkDirection();var c=cc.moveTo(e.duration,o.getPosition()),s=cc.callFunc(function(){i.log({msg:"\u8d70\u5b8c\u5f53\u524d\u8def\u5f84",channel:"\u89d2\u8272\u63a7\u5236\u5668",data:{routeNode:e}}),t.state.position=e.node,e.finish?t.setDirection(e.direction):t.setWalkDirection(e.direction),e.node.variable&&t.mapRoad.onChangeDirect$.next(e)});r.push(c,s)},n=this,c=0,s=e;c<s.length;c++){o(s[c])}this.node.runAction(cc.sequence(r))},t=n([u],t)}(cc.Component));r.default=a,cc._RF.pop()},{"../../common/logger":"logger","../../utils/route-helpers":"route-helpers"}],"player.interface":[function(e,t,r){"use strict";cc._RF.push(t,"d3eae58zYhH1I67KiHl3t1r","player.interface"),Object.defineProperty(r,"__esModule",{value:!0}),cc._RF.pop()},{}],player:[function(e,t,r){"use strict";cc._RF.push(t,"16624yUAQdAQKM4cCQO04SK","player"),Object.defineProperty(r,"__esModule",{value:!0}),cc._RF.pop()},{}],"road-view":[function(e,t,r){"use strict";cc._RF.push(t,"6fa40wStptJb6ILNZ4NoijJ","road-view");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(i<3?n(c):i>3?n(t,r,c):n(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(r,"__esModule",{value:!0});var c=e("rxjs"),s=e("../common/logger"),u=e("../utils/route-helpers"),a=cc._decorator,l=a.ccclass,p=a.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.floor=null,t.direct=null,t.roadNodes=[],t.directNodes=[],t.onChangeDirect$=new c.Subject,t}return o(t,e),t.prototype.onDestroy=function(){this.onChangeDirect$.complete()},t.prototype.init=function(e){var t=this;this.roadNodes=e,this.initDirectNodes(),this.onChangeDirect$.subscribe(function(e){t.setDirectNodeDirection(e.node.name,e.direction),e.finish||setTimeout(function(){var r=u.randomDirection(e.node.supportDirection.filter(function(t){return t!==e.direction}));t.setDirectNodeDirection(e.node.name,r)},100)},function(e){s.log({msg:"\u76d1\u542c\u51fa\u9519",channel:"\u76d1\u542c\u8def\u6807\u53d8\u5316\u4e8b\u4ef6",data:{error:e}})})},t.prototype.getRoadNode=function(e){return this.roadNodes.find(function(t){return t.name===e})},t.prototype.findRoadCcNode=function(e){return cc.find(e,this.floor)},t.prototype.getDirectNode=function(e){return this.directNodes.find(function(t){return t.name===e})},t.prototype.setDirectNodeDirection=function(e,t){var r=this.directNodes.find(function(t){return t.name===e});if(r){var o=r.ccNode.getComponent(cc.Animation),n=o.getClips().find(function(e){return e.name===t});n&&(s.log({msg:"("+e+")\u8bbe\u7f6e\u9053\u8def\u65b9\u5411: "+t,channel:"\u9053\u8def\u63a7\u5236\u5668"}),r.direction=t,o.play(n.name))}},t.prototype.initDirectNodes=function(){for(var e=0,t=this.roadNodes.filter(function(e){return e.variable});e<t.length;e++){var r=t[e],o=cc.find(r.name,this.direct);if(o){var i=n(n({},r),{ccNode:o,direction:u.randomDirection(r.supportDirection)});this.directNodes.push(i),this.setDirectNodeDirection(i.name,i.direction)}}},i([p({type:cc.Node,tooltip:"\u5730\u677f\u63d0\u793a\u8282\u70b9"})],t.prototype,"floor",void 0),i([p({type:cc.Node,tooltip:"\u8def\u6807\u8282\u70b9"})],t.prototype,"direct",void 0),t=i([l],t)}(cc.Component);r.default=d,cc._RF.pop()},{"../common/logger":"logger","../utils/route-helpers":"route-helpers",rxjs:2}],road:[function(e,t,r){"use strict";cc._RF.push(t,"e1d7aqQQdBPbLVe0hqsoVkI","road"),Object.defineProperty(r,"__esModule",{value:!0}),r.WalkDirection=r.Direction=void 0,function(e){e.TopLeft="top-left",e.TopRight="top-right",e.BottomLeft="bottom-left",e.BottomRight="bottom-right"}(r.Direction||(r.Direction={})),function(e){e.TopLeft="walk-top-left",e.TopRight="walk-top-right",e.BottomLeft="walk-bottom-left",e.BottomRight="walk-bottom-right"}(r.WalkDirection||(r.WalkDirection={})),cc._RF.pop()},{}],"route-helpers":[function(e,t,r){"use strict";cc._RF.push(t,"ea6ddZeQ3dP37Rr93WfGTDv","route-helpers"),Object.defineProperty(r,"__esModule",{value:!0}),r.reverseDirection=r.getNextDirection=r.getTrunNextDirection=r.getVariableNextDirection=r.randomDirection=r.getWalkRouteLine=r.getStraightRoadNode=r.getNextDirectionRoadNode=void 0;var o=e("../models/road"),n=e("./get-random-int"),i=e("./number-helpers");function c(e,t){var r=e.supportDirection.findIndex(function(e){return e===t});return e.nodes[r]}function s(e,t,r,o){var n=c(t.node,e),i=r.getRoadNode(n);if(i.variable)(s=l(e,r.getDirectNode(i.name),t.finish))&&(e=s);else if(i.turn){var s;(s=p(e,i.supportDirection))&&(e=s)}return{direction:e,roadNode:i}}function u(e,t,r,o){for(var n={node:r,direction:t,remainingDice:e,duration:0},c=0;c<e;c++){c===e-1&&(n.finish=!0),n.remainingDice-=1,n.duration=i.formatNumber(n.duration+.1);var u=s(t,n,o);if(n.node=u.roadNode,n.direction=u.direction,n.node.turn||n.node.variable)break}return n}function a(e){return e[n.getRandomInt(0,e.length-1)]}function l(e,t,r){var o=h(t.direction)===e;!r&&o&&(e=a(d(e,t.supportDirection)),t.direction=e);return t.direction}function p(e,t){var r=d(e,t);if(1===r.length)return r[0]}function d(e,t){var r=h(e);return t.filter(function(e){return e!==r})}function h(e){switch(e){case o.Direction.BottomLeft:return o.Direction.TopRight;case o.Direction.BottomRight:return o.Direction.TopLeft;case o.Direction.TopLeft:return o.Direction.BottomRight;case o.Direction.TopRight:return o.Direction.BottomLeft}}r.getNextDirectionRoadNode=s,r.getStraightRoadNode=u,r.getWalkRouteLine=function(e,t,r){for(var o=u(e,t.direction,t.position,r),n=[o];!o.finish;)o=u(o.remainingDice,o.direction,o.node,r),n.push(o);return n},r.randomDirection=a,r.getVariableNextDirection=l,r.getTrunNextDirection=p,r.getNextDirection=d,r.reverseDirection=h,cc._RF.pop()},{"../models/road":"road","./get-random-int":"get-random-int","./number-helpers":"number-helpers"}],"select-master":[function(e,t,r){"use strict";cc._RF.push(t,"ea618UB4apBIYrmlDx0VvLZ","select-master");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(i<3?n(c):i>3?n(t,r,c):n(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(r,"__esModule",{value:!0}),r.SelectMaster=void 0;var i=cc.Node.EventType,c=e("./constants"),s=e("./utils/node-utils"),u=cc._decorator,a=u.ccclass,l=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeCao=null,t.nodeSun=null,t.nodeLiu=null,t.goldCao=null,t.goldSun=null,t.goldLiu=null,t.checkCao=null,t.checkSun=null,t.checkLiu=null,t.ok=null,t.cancel=null,t}return o(t,e),t.prototype.start=function(){this.setSelectMasterEvent(this.nodeCao),this.setSelectMasterEvent(this.nodeSun),this.setSelectMasterEvent(this.nodeLiu),this.setClickEvent(this.ok),this.setClickEvent(this.cancel)},t.prototype.setClickEvent=function(e){var t=this;e.on(i.MOUSE_UP,function(){switch(e){case t.ok:s.hideNode(t.ok),t.showFace(),setTimeout(function(){return cc.director.loadScene(c.GameScene.Map005)},1500);break;case t.cancel:s.hideNode(t.cancel),cc.director.loadScene(c.GameScene.Main)}}),e.on(i.MOUSE_DOWN,function(){switch(e){case t.ok:s.showNode(t.ok);break;case t.cancel:s.showNode(t.cancel)}})},t.prototype.showFace=function(){"cao"===this.selectMaster?s.hideNode([this.nodeSun,this.nodeLiu]):"sun"===this.selectMaster?s.hideNode([this.nodeCao,this.nodeLiu]):"liu"===this.selectMaster&&s.hideNode([this.nodeCao,this.nodeSun])},t.prototype.setSelectMasterEvent=function(e){var t=this;e.on(i.MOUSE_DOWN,function(){switch(e){case t.nodeCao:t.checkCaoHandle();break;case t.nodeSun:t.checkSunHandle();break;case t.nodeLiu:t.checkLiuHandle()}})},t.prototype.checkCaoHandle=function(){this.selectMaster="cao",s.showNode([this.goldCao,this.checkCao]),s.hideNode([this.goldSun,this.checkSun,this.goldLiu,this.checkLiu])},t.prototype.checkSunHandle=function(){this.selectMaster="sun",s.showNode([this.goldSun,this.checkSun]),s.hideNode([this.goldCao,this.checkCao,this.goldLiu,this.checkLiu])},t.prototype.checkLiuHandle=function(){this.selectMaster="liu",s.showNode([this.goldLiu,this.checkLiu]),s.hideNode([this.goldCao,this.checkCao,this.goldSun,this.checkSun])},n([l(cc.Node)],t.prototype,"nodeCao",void 0),n([l(cc.Node)],t.prototype,"nodeSun",void 0),n([l(cc.Node)],t.prototype,"nodeLiu",void 0),n([l(cc.Node)],t.prototype,"goldCao",void 0),n([l(cc.Node)],t.prototype,"goldSun",void 0),n([l(cc.Node)],t.prototype,"goldLiu",void 0),n([l(cc.Node)],t.prototype,"checkCao",void 0),n([l(cc.Node)],t.prototype,"checkSun",void 0),n([l(cc.Node)],t.prototype,"checkLiu",void 0),n([l(cc.Node)],t.prototype,"ok",void 0),n([l(cc.Node)],t.prototype,"cancel",void 0),t=n([a],t)}(cc.Component);r.SelectMaster=p,cc._RF.pop()},{"./constants":"constants","./utils/node-utils":"node-utils"}],"select-one-player":[function(e,t,r){"use strict";cc._RF.push(t,"828f2EfVrJMdZCUI7pv4vn0","select-one-player");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(i<3?n(c):i>3?n(t,r,c):n(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(r,"__esModule",{value:!0});var i=cc.Node.EventType,c=e("./constants"),s=e("./unit-drag"),u=e("./utils/node-utils"),a=cc._decorator,l=a.ccclass,p=a.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lordNode=null,t.lordName=null,t.headImg=null,t.nobility=null,t.gold=null,t.army=null,t.morale=null,t.prestige=null,t.retinue=null,t.city=null,t.desc=null,t.humanOrAi=null,t.isAi=!1,t}return o(t,e),t.prototype.start=function(){this.setClickEvent(this.humanOrAi),this.setRightClickEvent(this.node)},t.prototype.setClickEvent=function(e){var t=this;e.on(i.MOUSE_DOWN,function(){t.isAi=!t.isAi,t.isAi?(u.showNode(t.humanOrAi.getChildByName("ai")),u.hideNode(t.humanOrAi.getChildByName("human"))):(u.showNode(t.humanOrAi.getChildByName("human")),u.hideNode(t.humanOrAi.getChildByName("ai")))})},t.prototype.setRightClickEvent=function(e){e.on(i.MOUSE_DOWN,this.handleRightClick,this)},t.prototype.handleRightClick=function(e){e.getButton()===cc.Event.EventMouse.BUTTON_RIGHT&&(u.showNode(this.lordNode),u.hideNode(this.lordNode.getComponent(s.default).lordWalk),this.lordNode.getComponent(s.default).animPlaying=!1,this.lordNode=null,u.hideNode(this.headImg),this.lordName.getComponent(cc.Label).string="",this.nobility.getComponent(cc.Label).string="",this.gold.getComponent(cc.Label).string="",this.army.getComponent(cc.Label).string="",this.morale.getComponent(cc.Label).string="",this.prestige.getComponent(cc.Label).string="",this.retinue.getComponent(cc.Label).string="",this.city.getComponent(cc.Label).string="",this.desc.getComponent(cc.Label).string="",u.hideNode(this.humanOrAi.getChildByName("human")),u.hideNode(this.humanOrAi.getChildByName("ai")),this.isAi=!1)},t.prototype.setLordNode=function(e){this.lordNode=e;var t=this.headImg.getComponent(cc.Sprite);this.lordNode.name==c.Lord.Caocao?this.lordName.getComponent(cc.Label).string="\u66f9\u64cd":this.lordNode.name==c.Lord.Sunquan?this.lordName.getComponent(cc.Label).string="\u5b59\u6743":this.lordNode.name==c.Lord.Liubei?this.lordName.getComponent(cc.Label).string="\u5218\u5907":this.lordNode.name==c.Lord.Liubiao?this.lordName.getComponent(cc.Label).string="\u5218\u8868":this.lordNode.name==c.Lord.Menghuo?this.lordName.getComponent(cc.Label).string="\u5b5f\u83b7":this.lordNode.name==c.Lord.Shixie?this.lordName.getComponent(cc.Label).string="\u58eb\u71ee":this.lordNode.name==c.Lord.Cheliji?this.lordName.getComponent(cc.Label).string="\u5f7b\u91cc\u5409":this.lordNode.name==c.Lord.Yuanshao?this.lordName.getComponent(cc.Label).string="\u8881\u7ecd":this.lordNode.name==c.Lord.Beimihu?this.lordName.getComponent(cc.Label).string="\u5351\u5f25\u547c":this.lordNode.name==c.Lord.Yuanshu?this.lordName.getComponent(cc.Label).string="\u8881\u672f\u547c":this.lordNode.name==c.Lord.Dongzhuo&&(this.lordName.getComponent(cc.Label).string="\u8463\u5353"),cc.loader.loadRes("/master-head/"+this.lordNode.getComponent(s.default).lordName,cc.SpriteFrame,function(e,r){t.spriteFrame=r}),this.nobility.getComponent(cc.Label).string="\u9a81\u9a91\u6821\u5c09",this.gold.getComponent(cc.Label).string="18000",this.army.getComponent(cc.Label).string="12000",this.morale.getComponent(cc.Label).string="60",this.prestige.getComponent(cc.Label).string="200",this.retinue.getComponent(cc.Label).string="7",this.city.getComponent(cc.Label).string="0",this.desc.getComponent(cc.Label).string="\u4e3b\u516c\u4ecb\u7ecd\u4fe1\u606f......";t=this.headImg.getComponent(cc.Sprite);"lord-caocao"==this.lordNode.name?(this.lordName.getComponent(cc.Label).string="\u66f9\u64cd",cc.loader.loadRes("/master-head/caocao",cc.SpriteFrame,function(e,r){t.spriteFrame=r})):"lord-sunquan"==this.lordNode.name&&(this.lordName.getComponent(cc.Label).string="\u5b59\u6743",cc.loader.loadRes("/master-head/sunquan",cc.SpriteFrame,function(e,r){t.spriteFrame=r})),this.nobility.getComponent(cc.Label).string="\u9a81\u9a91\u6821\u5c09",this.gold.getComponent(cc.Label).string="18000",this.army.getComponent(cc.Label).string="12000",this.morale.getComponent(cc.Label).string="60",this.prestige.getComponent(cc.Label).string="200",this.retinue.getComponent(cc.Label).string="7",this.city.getComponent(cc.Label).string="0"},n([p(cc.Node)],t.prototype,"lordNode",void 0),n([p(cc.Node)],t.prototype,"lordName",void 0),n([p(cc.Node)],t.prototype,"headImg",void 0),n([p(cc.Node)],t.prototype,"nobility",void 0),n([p(cc.Node)],t.prototype,"gold",void 0),n([p(cc.Node)],t.prototype,"army",void 0),n([p(cc.Node)],t.prototype,"morale",void 0),n([p(cc.Node)],t.prototype,"prestige",void 0),n([p(cc.Node)],t.prototype,"retinue",void 0),n([p(cc.Node)],t.prototype,"city",void 0),n([p(cc.Node)],t.prototype,"desc",void 0),n([p(cc.Node)],t.prototype,"humanOrAi",void 0),n([p(cc.Boolean)],t.prototype,"isAi",void 0),t=n([l],t)}(cc.Component);r.default=d,cc._RF.pop()},{"./constants":"constants","./unit-drag":"unit-drag","./utils/node-utils":"node-utils"}],"select-one":[function(e,t,r){"use strict";cc._RF.push(t,"4b9deiUi7xOuZuN0JR51KQx","select-one");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(i<3?n(c):i>3?n(t,r,c):n(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(r,"__esModule",{value:!0}),r.SelectOne=void 0;var i=cc.Node.EventType,c=e("./constants"),s=e("./select-one-player"),u=e("./utils/node-utils"),a=e("./win-condition"),l=cc._decorator,p=l.ccclass,d=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgm=null,t.nodePlayer1=null,t.nodePlayer2=null,t.nodePlayer3=null,t.nodePlayer4=null,t.selectedMapId="",t.mapNode=null,t.mapIndex=0,t.mapNameNode=null,t.mapInfoNode=null,t.winConditions=null,t.ok=null,t.cancel=null,t.clickAudio=null,t.left=null,t.right=null,t}return o(t,e),t.prototype.onLoad=function(){this.left.on(cc.Node.EventType.MOUSE_UP,this.btnLeftUp,this),this.right.on(cc.Node.EventType.MOUSE_UP,this.btnRightUp,this)},t.prototype.start=function(){this.setClickEvent(this.ok),this.setClickEvent(this.cancel),this.setClickEvent(this.left),this.setClickEvent(this.right),this.setClickEvent(this.nodePlayer1.getComponent(s.default).humanOrAi),this.setClickEvent(this.nodePlayer2.getComponent(s.default).humanOrAi),this.setClickEvent(this.nodePlayer3.getComponent(s.default).humanOrAi),this.setClickEvent(this.nodePlayer4.getComponent(s.default).humanOrAi),this.setClickEvent(this.winConditions),u.showNode(this.mapNode.children[0]),u.showNode(this.mapNameNode.children[0]),this.selectedMapId=this.mapNode.children[0].name,this.mapIndex=0},t.prototype.btnLeftUp=function(e){u.hideNode(this.left.getChildByName("left-click"))},t.prototype.btnRightUp=function(e){u.hideNode(this.right.getChildByName("right-click"))},t.prototype.setClickEvent=function(e){var t=this;e.on(i.MOUSE_DOWN,function(){switch(e){case t.ok:u.hideNode(t.ok),t.generateGameInitData(),cc.director.loadScene(c.GameScene.Map005);break;case t.cancel:u.hideNode(t.cancel),cc.director.loadScene(c.GameScene.Main);break;case t.left:u.showNode(t.left.getChildByName("left-click")),u.hideNode(t.mapNode.children[t.mapIndex]),u.hideNode(t.mapNameNode.children[t.mapIndex]),t.mapIndex--,t.mapIndex<0&&(t.mapIndex=t.mapNode.childrenCount-1,t.mapIndex<0&&(t.mapIndex=0)),t.selectedMapId=t.mapNode.children[t.mapIndex].name,t.loadMapInfosByMapId(t.selectedMapId),u.showNode(t.mapNode.children[t.mapIndex]),u.showNode(t.mapNameNode.children[t.mapIndex]);break;case t.right:u.showNode(t.right.getChildByName("right-click")),u.hideNode(t.mapNode.children[t.mapIndex]),u.hideNode(t.mapNameNode.children[t.mapIndex]),t.mapIndex++,t.mapIndex>t.mapNode.childrenCount-1&&(t.mapIndex=0),t.selectedMapId=t.mapNode.children[t.mapIndex].name,t.loadMapInfosByMapId(t.selectedMapId),u.showNode(t.mapNode.children[t.mapIndex]),u.showNode(t.mapNameNode.children[t.mapIndex])}cc.audioEngine.playEffect(t.clickAudio,!1)})},t.prototype.loadMapInfosByMapId=function(e){this.mapInfoNode.getChildByName("size").getComponent(cc.Label).string="\u5f85\u83b7\u53d6\u4fe1\u606f...",this.mapInfoNode.getChildByName("independent").getComponent(cc.Label).string="\u5f85\u83b7\u53d6\u4fe1\u606f...",this.mapInfoNode.getChildByName("mapDesc").getComponent(cc.Label).string="\u5f85\u83b7\u53d6\u4fe1\u606f...",this.mapInfoNode.getChildByName("citys").getComponent(cc.Label).string="\u5f85\u83b7\u53d6\u4fe1\u606f...",this.winConditions.getChildByName("winConditionArea1").getChildByName("condition").getComponent(cc.Label).string="\u5f85\u83b7\u53d6\u4fe1\u606f...",this.winConditions.getChildByName("winConditionArea2").getChildByName("condition").getComponent(cc.Label).string="\u5f85\u83b7\u53d6\u4fe1\u606f...",this.winConditions.getChildByName("winConditionArea3").getChildByName("condition").getComponent(cc.Label).string="\u5f85\u83b7\u53d6\u4fe1\u606f...",this.winConditions.getChildByName("winConditionArea4").getChildByName("condition").getComponent(cc.Label).string="\u5f85\u83b7\u53d6\u4fe1\u606f...",this.winConditions.getChildByName("winConditionArea5").getChildByName("condition").getComponent(cc.Label).string="\u5f85\u83b7\u53d6\u4fe1\u606f...",this.winConditions.getChildByName("winConditionArea6").getChildByName("condition").getComponent(cc.Label).string="\u5f85\u83b7\u53d6\u4fe1\u606f..."},t.prototype.generateGameInitData=function(){this.selectedMapId,this.winConditions.getComponent(a.default).selectCondition;var e=[];null!=this.nodePlayer1.getComponent(s.default).lordNode&&e.push(this.nodePlayer1.getComponent(s.default).lordNode),null!=this.nodePlayer2.getComponent(s.default).lordNode&&e.push(this.nodePlayer1.getComponent(s.default).lordNode),null!=this.nodePlayer3.getComponent(s.default).lordNode&&e.push(this.nodePlayer1.getComponent(s.default).lordNode),null!=this.nodePlayer4.getComponent(s.default).lordNode&&e.push(this.nodePlayer1.getComponent(s.default).lordNode)},n([d({type:cc.AudioClip})],t.prototype,"bgm",void 0),n([d(cc.Node)],t.prototype,"nodePlayer1",void 0),n([d(cc.Node)],t.prototype,"nodePlayer2",void 0),n([d(cc.Node)],t.prototype,"nodePlayer3",void 0),n([d(cc.Node)],t.prototype,"nodePlayer4",void 0),n([d(cc.Node)],t.prototype,"mapNode",void 0),n([d(cc.Node)],t.prototype,"mapNameNode",void 0),n([d(cc.Node)],t.prototype,"mapInfoNode",void 0),n([d(cc.Node)],t.prototype,"winConditions",void 0),n([d(cc.Node)],t.prototype,"ok",void 0),n([d(cc.Node)],t.prototype,"cancel",void 0),n([d({type:cc.AudioClip})],t.prototype,"clickAudio",void 0),n([d(cc.Node)],t.prototype,"left",void 0),n([d(cc.Node)],t.prototype,"right",void 0),t=n([p],t)}(cc.Component);r.SelectOne=h,cc._RF.pop()},{"./constants":"constants","./select-one-player":"select-one-player","./utils/node-utils":"node-utils","./win-condition":"win-condition"}],"show-mouse-cursor":[function(e,t,r){"use strict";cc._RF.push(t,"acbfdhb+gxDB4k3srSqk82v","show-mouse-cursor"),Object.defineProperty(r,"__esModule",{value:!0}),r.showMouseCursor=void 0,r.showMouseCursor=function(){var e=cc.url.raw("resources/cursor.png");cc.game.canvas.style.cursor="url('"+e+"'),auto"},cc._RF.pop()},{}],"tiled-map":[function(e,t,r){"use strict";cc._RF.push(t,"b72d3QEtMtMF716VCMTqohr","tiled-map"),Object.defineProperty(r,"__esModule",{value:!0}),cc._RF.pop()},{}],"unit-drag":[function(e,t,r){"use strict";cc._RF.push(t,"da9a87wZaBIQaNvSHfdzr65","unit-drag");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(i<3?n(c):i>3?n(t,r,c):n(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(r,"__esModule",{value:!0});var i=e("./select-one-player"),c=e("./utils/node-utils"),s=cc._decorator,u=s.ccclass,a=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.origionPosition=null,t.origionHeadImgPosition=null,t.player1=null,t.player2=null,t.player3=null,t.player4=null,t.lordName=null,t.lordWalk=null,t.anim=null,t.animPlaying=!1,t}var r;return o(t,e),r=t,t.prototype.onLoad=function(){this.origionPosition=this.node.position,this.origionHeadImgPosition=this.node.getChildByName("head-img").position,this.node.getChildByName("head-img").on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.getChildByName("head-img").on(cc.Node.EventType.TOUCH_END,this.onTouchOver,this),this.node.on(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchOver,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onTouchOver,this)},t.prototype.showImg=function(){c.showNode(this.node.getChildByName("head-img"))},t.prototype.onTouchMove=function(e){if(!this.animPlaying){var t=e.getLocation();this.node.getChildByName("head-img").position=this.node.convertToNodeSpaceAR(t),c.showNode(this.node.getChildByName("head-img"))}},t.prototype.onTouchOver=function(e){this.player1.getBoundingBoxToWorld().contains(this.node.getChildByName("head-img").convertToWorldSpaceAR(cc.v2(0,0)))?this.handlePlayNode(this.player1):this.player2.getBoundingBoxToWorld().contains(this.node.getChildByName("head-img").convertToWorldSpaceAR(cc.v2(0,0)))?this.handlePlayNode(this.player2):this.player3.getBoundingBoxToWorld().contains(this.node.getChildByName("head-img").convertToWorldSpaceAR(cc.v2(0,0)))?this.handlePlayNode(this.player3):this.player4.getBoundingBoxToWorld().contains(this.node.getChildByName("head-img").convertToWorldSpaceAR(cc.v2(0,0)))&&this.handlePlayNode(this.player4),c.hideNode(this.node.getChildByName("head-img")),this.node.getChildByName("head-img").position=this.origionHeadImgPosition,this.node.setPosition(this.node.x,0)},t.prototype.handlePlayNode=function(e){null==e.getComponent(i.default).lordNode&&(e.getComponent(i.default).isAi=!1,c.hideNode(e.getChildByName("humanOrAi").getChildByName("human")),c.hideNode(e.getChildByName("humanOrAi").getChildByName("ai")),c.showNode(e.getChildByName("humanOrAi").getChildByName("human")));e.getChildByName("head-img").getComponent(cc.Sprite);if(c.showNode(e.getChildByName("head-img")),null!=e.getComponent(i.default).lordNode){var t=e.getComponent(i.default).lordNode;c.hideNode(t.getComponent(r).lordWalk),c.showNode(t),t.getComponent(r).animPlaying=!1}e.getComponent(i.default).setLordNode(this.node),c.showNode(this.lordWalk),c.hideNode(this.node),this.animPlaying=!0},t.prototype.onMouseEnter=function(e){this.animPlaying||this.node.setPosition(this.node.x,10)},n([a(cc.Node)],t.prototype,"player1",void 0),n([a(cc.Node)],t.prototype,"player2",void 0),n([a(cc.Node)],t.prototype,"player3",void 0),n([a(cc.Node)],t.prototype,"player4",void 0),n([a(cc.String)],t.prototype,"lordName",void 0),n([a(cc.Node)],t.prototype,"lordWalk",void 0),n([a(cc.Boolean)],t.prototype,"animPlaying",void 0),t=r=n([u],t)}(cc.Component);r.default=l,cc._RF.pop()},{"./select-one-player":"select-one-player","./utils/node-utils":"node-utils"}],"unit-playAnimation":[function(e,t,r){"use strict";cc._RF.push(t,"025cfVtyj5NB5ShuVL0lJAH","unit-playAnimation");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(i<3?n(c):i>3?n(t,r,c):n(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(r,"__esModule",{value:!0}),r.UnitAnimationPlay=void 0;var i=cc._decorator,c=i.ccclass,s=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchOver,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onTouchOver,this)},t.prototype.onTouchOver=function(e){},t.prototype.onMouseEnter=function(e){},t=n([c],t)}(cc.Component));r.UnitAnimationPlay=s,cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(e,t,r){"use strict";cc._RF.push(t,"4946aGjJudAJLGsGVb1ao2v","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}],"win-condition":[function(e,t,r){"use strict";cc._RF.push(t,"033c0Wy6llHq5LI/hErFOdR","win-condition");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(i<3?n(c):i>3?n(t,r,c):n(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(r,"__esModule",{value:!0});var i=cc.Node.EventType,c=e("./utils/node-utils"),s=cc._decorator,u=s.ccclass,a=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectCondition=null,t.lastCondition=null,t.condition1=null,t.condition2=null,t.condition3=null,t.condition4=null,t.condition5=null,t.condition6=null,t}return o(t,e),t.prototype.start=function(){this.setClickEvent(this.condition1),this.setClickEvent(this.condition2),this.setClickEvent(this.condition3),this.setClickEvent(this.condition4),this.setClickEvent(this.condition5),this.setClickEvent(this.condition6)},t.prototype.setClickEvent=function(e){var t=this;e.on(i.MOUSE_DOWN,function(){null==t.lastCondition?t.lastCondition=e:e!=t.lastCondition&&c.hideNode(t.lastCondition.getChildByName("selectMark")),t.selectCondition=e,t.lastCondition=e,c.showNode(t.selectCondition.getChildByName("selectMark"))})},n([a(cc.Node)],t.prototype,"selectCondition",void 0),n([a(cc.Node)],t.prototype,"lastCondition",void 0),n([a(cc.Node)],t.prototype,"condition1",void 0),n([a(cc.Node)],t.prototype,"condition2",void 0),n([a(cc.Node)],t.prototype,"condition3",void 0),n([a(cc.Node)],t.prototype,"condition4",void 0),n([a(cc.Node)],t.prototype,"condition5",void 0),n([a(cc.Node)],t.prototype,"condition6",void 0),t=n([u],t)}(cc.Component);r.default=l,cc._RF.pop()},{"./utils/node-utils":"node-utils"}]},{},["use_v2.1-2.2.1_cc.Toggle_event","logger","constants","map005-data","main","city","minter","person","player","road","tiled-map","map005","select-master","select-one-player","select-one","get-dice-x","minter-view","player-view","player.interface","road-view","unit-drag","unit-playAnimation","get-random-int","hide-mouse-cursor","load-res","node-utils","number-helpers","route-helpers","show-mouse-cursor","win-condition"]);